#include "mmthemes.h"

const char* const p_mainThemeSamplesA[50] = { MM_COMMON_MUSICPATH_MAIN_RAWA0, MM_COMMON_MUSICPATH_MAIN_RAWA1, MM_COMMON_MUSICPATH_MAIN_RAWA2, MM_COMMON_MUSICPATH_MAIN_RAWA3, MM_COMMON_MUSICPATH_MAIN_RAWA4, MM_COMMON_MUSICPATH_MAIN_RAWA5, MM_COMMON_MUSICPATH_MAIN_RAWA6, MM_COMMON_MUSICPATH_MAIN_RAWA7, MM_COMMON_MUSICPATH_MAIN_RAWA8, MM_COMMON_MUSICPATH_MAIN_RAWA9, MM_COMMON_MUSICPATH_MAIN_RAWA10, MM_COMMON_MUSICPATH_MAIN_RAWA11, MM_COMMON_MUSICPATH_MAIN_RAWA12, MM_COMMON_MUSICPATH_MAIN_RAWA13, MM_COMMON_MUSICPATH_MAIN_RAWA14, MM_COMMON_MUSICPATH_MAIN_RAWA15, MM_COMMON_MUSICPATH_MAIN_RAWA16, MM_COMMON_MUSICPATH_MAIN_RAWA17, MM_COMMON_MUSICPATH_MAIN_RAWA18, MM_COMMON_MUSICPATH_MAIN_RAWA19, MM_COMMON_MUSICPATH_MAIN_RAWA20, MM_COMMON_MUSICPATH_MAIN_RAWA21, MM_COMMON_MUSICPATH_MAIN_RAWA22, MM_COMMON_MUSICPATH_MAIN_RAWA23, MM_COMMON_MUSICPATH_MAIN_RAWA24, MM_COMMON_MUSICPATH_MAIN_RAWA25, MM_COMMON_MUSICPATH_MAIN_RAWA26, MM_COMMON_MUSICPATH_MAIN_RAWA27, MM_COMMON_MUSICPATH_MAIN_RAWA28, MM_COMMON_MUSICPATH_MAIN_RAWA29, MM_COMMON_MUSICPATH_MAIN_RAWA30, MM_COMMON_MUSICPATH_MAIN_RAWA31, MM_COMMON_MUSICPATH_MAIN_RAWA32, MM_COMMON_MUSICPATH_MAIN_RAWA33, MM_COMMON_MUSICPATH_MAIN_RAWA34, MM_COMMON_MUSICPATH_MAIN_RAWA35, MM_COMMON_MUSICPATH_MAIN_RAWA36, MM_COMMON_MUSICPATH_MAIN_RAWA37, MM_COMMON_MUSICPATH_MAIN_RAWA38, MM_COMMON_MUSICPATH_MAIN_RAWA39, MM_COMMON_MUSICPATH_MAIN_RAWA40, MM_COMMON_MUSICPATH_MAIN_RAWA41, MM_COMMON_MUSICPATH_MAIN_RAWA42, MM_COMMON_MUSICPATH_MAIN_RAWA43, MM_COMMON_MUSICPATH_MAIN_RAWA44, MM_COMMON_MUSICPATH_MAIN_RAWA45, MM_COMMON_MUSICPATH_MAIN_RAWA46, MM_COMMON_MUSICPATH_MAIN_RAWA47, MM_COMMON_MUSICPATH_MAIN_RAWA48, MM_COMMON_MUSICPATH_MAIN_RAWA49 };

const char* const p_mainThemeSamplesB[50] = { MM_COMMON_MUSICPATH_MAIN_RAWB0, MM_COMMON_MUSICPATH_MAIN_RAWB1, MM_COMMON_MUSICPATH_MAIN_RAWB2, MM_COMMON_MUSICPATH_MAIN_RAWB3, MM_COMMON_MUSICPATH_MAIN_RAWB4, MM_COMMON_MUSICPATH_MAIN_RAWB5, MM_COMMON_MUSICPATH_MAIN_RAWB6, MM_COMMON_MUSICPATH_MAIN_RAWB7, MM_COMMON_MUSICPATH_MAIN_RAWB8, MM_COMMON_MUSICPATH_MAIN_RAWB9, MM_COMMON_MUSICPATH_MAIN_RAWB10, MM_COMMON_MUSICPATH_MAIN_RAWB11, MM_COMMON_MUSICPATH_MAIN_RAWB12, MM_COMMON_MUSICPATH_MAIN_RAWB13, MM_COMMON_MUSICPATH_MAIN_RAWB14, MM_COMMON_MUSICPATH_MAIN_RAWB15, MM_COMMON_MUSICPATH_MAIN_RAWB16, MM_COMMON_MUSICPATH_MAIN_RAWB17, MM_COMMON_MUSICPATH_MAIN_RAWB18, MM_COMMON_MUSICPATH_MAIN_RAWB19, MM_COMMON_MUSICPATH_MAIN_RAWB20, MM_COMMON_MUSICPATH_MAIN_RAWB21, MM_COMMON_MUSICPATH_MAIN_RAWB22, MM_COMMON_MUSICPATH_MAIN_RAWB23, MM_COMMON_MUSICPATH_MAIN_RAWB24, MM_COMMON_MUSICPATH_MAIN_RAWB25, MM_COMMON_MUSICPATH_MAIN_RAWB26, MM_COMMON_MUSICPATH_MAIN_RAWB27, MM_COMMON_MUSICPATH_MAIN_RAWB28, MM_COMMON_MUSICPATH_MAIN_RAWB29, MM_COMMON_MUSICPATH_MAIN_RAWB30, MM_COMMON_MUSICPATH_MAIN_RAWB31, MM_COMMON_MUSICPATH_MAIN_RAWB32, MM_COMMON_MUSICPATH_MAIN_RAWB33, MM_COMMON_MUSICPATH_MAIN_RAWB34, MM_COMMON_MUSICPATH_MAIN_RAWB35, MM_COMMON_MUSICPATH_MAIN_RAWB36, MM_COMMON_MUSICPATH_MAIN_RAWB37, MM_COMMON_MUSICPATH_MAIN_RAWB38, MM_COMMON_MUSICPATH_MAIN_RAWB39, MM_COMMON_MUSICPATH_MAIN_RAWB40, MM_COMMON_MUSICPATH_MAIN_RAWB41, MM_COMMON_MUSICPATH_MAIN_RAWB42, MM_COMMON_MUSICPATH_MAIN_RAWB43, MM_COMMON_MUSICPATH_MAIN_RAWB44, MM_COMMON_MUSICPATH_MAIN_RAWB45, MM_COMMON_MUSICPATH_MAIN_RAWB46, MM_COMMON_MUSICPATH_MAIN_RAWB47, MM_COMMON_MUSICPATH_MAIN_RAWB48, MM_COMMON_MUSICPATH_MAIN_RAWB49 };

const char* const p_mainThemeSamplesC[50] = { MM_COMMON_MUSICPATH_MAIN_RAWC0, MM_COMMON_MUSICPATH_MAIN_RAWC1, MM_COMMON_MUSICPATH_MAIN_RAWC2, MM_COMMON_MUSICPATH_MAIN_RAWC3, MM_COMMON_MUSICPATH_MAIN_RAWC4, MM_COMMON_MUSICPATH_MAIN_RAWC5, MM_COMMON_MUSICPATH_MAIN_RAWC6, MM_COMMON_MUSICPATH_MAIN_RAWC7, MM_COMMON_MUSICPATH_MAIN_RAWC8, MM_COMMON_MUSICPATH_MAIN_RAWC9, MM_COMMON_MUSICPATH_MAIN_RAWC10, MM_COMMON_MUSICPATH_MAIN_RAWC11, MM_COMMON_MUSICPATH_MAIN_RAWC12, MM_COMMON_MUSICPATH_MAIN_RAWC13, MM_COMMON_MUSICPATH_MAIN_RAWC14, MM_COMMON_MUSICPATH_MAIN_RAWC15, MM_COMMON_MUSICPATH_MAIN_RAWC16, MM_COMMON_MUSICPATH_MAIN_RAWC17, MM_COMMON_MUSICPATH_MAIN_RAWC18, MM_COMMON_MUSICPATH_MAIN_RAWC19, MM_COMMON_MUSICPATH_MAIN_RAWC20, MM_COMMON_MUSICPATH_MAIN_RAWC21, MM_COMMON_MUSICPATH_MAIN_RAWC22, MM_COMMON_MUSICPATH_MAIN_RAWC23, MM_COMMON_MUSICPATH_MAIN_RAWC24, MM_COMMON_MUSICPATH_MAIN_RAWC25, MM_COMMON_MUSICPATH_MAIN_RAWC26, MM_COMMON_MUSICPATH_MAIN_RAWC27, MM_COMMON_MUSICPATH_MAIN_RAWC28, MM_COMMON_MUSICPATH_MAIN_RAWC29, MM_COMMON_MUSICPATH_MAIN_RAWC30, MM_COMMON_MUSICPATH_MAIN_RAWC31, MM_COMMON_MUSICPATH_MAIN_RAWC32, MM_COMMON_MUSICPATH_MAIN_RAWC33, MM_COMMON_MUSICPATH_MAIN_RAWC34, MM_COMMON_MUSICPATH_MAIN_RAWC35, MM_COMMON_MUSICPATH_MAIN_RAWC36, MM_COMMON_MUSICPATH_MAIN_RAWC37, MM_COMMON_MUSICPATH_MAIN_RAWC38, MM_COMMON_MUSICPATH_MAIN_RAWC39, MM_COMMON_MUSICPATH_MAIN_RAWC40, MM_COMMON_MUSICPATH_MAIN_RAWC41, MM_COMMON_MUSICPATH_MAIN_RAWC42, MM_COMMON_MUSICPATH_MAIN_RAWC43, MM_COMMON_MUSICPATH_MAIN_RAWC44, MM_COMMON_MUSICPATH_MAIN_RAWC45, MM_COMMON_MUSICPATH_MAIN_RAWC46, MM_COMMON_MUSICPATH_MAIN_RAWC47, MM_COMMON_MUSICPATH_MAIN_RAWC48, MM_COMMON_MUSICPATH_MAIN_RAWC49 };

const char* const p_mainThemeSamplesD[50] = { MM_COMMON_MUSICPATH_MAIN_RAWD0, MM_COMMON_MUSICPATH_MAIN_RAWD1, MM_COMMON_MUSICPATH_MAIN_RAWD2, MM_COMMON_MUSICPATH_MAIN_RAWD3, MM_COMMON_MUSICPATH_MAIN_RAWD4, MM_COMMON_MUSICPATH_MAIN_RAWD5, MM_COMMON_MUSICPATH_MAIN_RAWD6, MM_COMMON_MUSICPATH_MAIN_RAWD7, MM_COMMON_MUSICPATH_MAIN_RAWD8, MM_COMMON_MUSICPATH_MAIN_RAWD9, MM_COMMON_MUSICPATH_MAIN_RAWD10, MM_COMMON_MUSICPATH_MAIN_RAWD11, MM_COMMON_MUSICPATH_MAIN_RAWD12, MM_COMMON_MUSICPATH_MAIN_RAWD13, MM_COMMON_MUSICPATH_MAIN_RAWD14, MM_COMMON_MUSICPATH_MAIN_RAWD15, MM_COMMON_MUSICPATH_MAIN_RAWD16, MM_COMMON_MUSICPATH_MAIN_RAWD17, MM_COMMON_MUSICPATH_MAIN_RAWD18, MM_COMMON_MUSICPATH_MAIN_RAWD19, MM_COMMON_MUSICPATH_MAIN_RAWD20, MM_COMMON_MUSICPATH_MAIN_RAWD21, MM_COMMON_MUSICPATH_MAIN_RAWD22, MM_COMMON_MUSICPATH_MAIN_RAWD23, MM_COMMON_MUSICPATH_MAIN_RAWD24, MM_COMMON_MUSICPATH_MAIN_RAWD25, MM_COMMON_MUSICPATH_MAIN_RAWD26, MM_COMMON_MUSICPATH_MAIN_RAWD27, MM_COMMON_MUSICPATH_MAIN_RAWD28, MM_COMMON_MUSICPATH_MAIN_RAWD29, MM_COMMON_MUSICPATH_MAIN_RAWD30, MM_COMMON_MUSICPATH_MAIN_RAWD31, MM_COMMON_MUSICPATH_MAIN_RAWD32, MM_COMMON_MUSICPATH_MAIN_RAWD33, MM_COMMON_MUSICPATH_MAIN_RAWD34, MM_COMMON_MUSICPATH_MAIN_RAWD35, MM_COMMON_MUSICPATH_MAIN_RAWD36, MM_COMMON_MUSICPATH_MAIN_RAWD37, MM_COMMON_MUSICPATH_MAIN_RAWD38, MM_COMMON_MUSICPATH_MAIN_RAWD39, MM_COMMON_MUSICPATH_MAIN_RAWD40, MM_COMMON_MUSICPATH_MAIN_RAWD41, MM_COMMON_MUSICPATH_MAIN_RAWD42, MM_COMMON_MUSICPATH_MAIN_RAWD43, MM_COMMON_MUSICPATH_MAIN_RAWD44, MM_COMMON_MUSICPATH_MAIN_RAWD45, MM_COMMON_MUSICPATH_MAIN_RAWD46, MM_COMMON_MUSICPATH_MAIN_RAWD47, MM_COMMON_MUSICPATH_MAIN_RAWD48, MM_COMMON_MUSICPATH_MAIN_RAWD49 };

const char* const p_mainThemeSamplesE[50] = { MM_COMMON_MUSICPATH_MAIN_RAWE0, MM_COMMON_MUSICPATH_MAIN_RAWE1, MM_COMMON_MUSICPATH_MAIN_RAWE2, MM_COMMON_MUSICPATH_MAIN_RAWE3, MM_COMMON_MUSICPATH_MAIN_RAWE4, MM_COMMON_MUSICPATH_MAIN_RAWE5, MM_COMMON_MUSICPATH_MAIN_RAWE6, MM_COMMON_MUSICPATH_MAIN_RAWE7, MM_COMMON_MUSICPATH_MAIN_RAWE8, MM_COMMON_MUSICPATH_MAIN_RAWE9, MM_COMMON_MUSICPATH_MAIN_RAWE10, MM_COMMON_MUSICPATH_MAIN_RAWE11, MM_COMMON_MUSICPATH_MAIN_RAWE12, MM_COMMON_MUSICPATH_MAIN_RAWE13, MM_COMMON_MUSICPATH_MAIN_RAWE14, MM_COMMON_MUSICPATH_MAIN_RAWE15, MM_COMMON_MUSICPATH_MAIN_RAWE16, MM_COMMON_MUSICPATH_MAIN_RAWE17, MM_COMMON_MUSICPATH_MAIN_RAWE18, MM_COMMON_MUSICPATH_MAIN_RAWE19, MM_COMMON_MUSICPATH_MAIN_RAWE20, MM_COMMON_MUSICPATH_MAIN_RAWE21, MM_COMMON_MUSICPATH_MAIN_RAWE22, MM_COMMON_MUSICPATH_MAIN_RAWE23, MM_COMMON_MUSICPATH_MAIN_RAWE24, MM_COMMON_MUSICPATH_MAIN_RAWE25, MM_COMMON_MUSICPATH_MAIN_RAWE26, MM_COMMON_MUSICPATH_MAIN_RAWE27, MM_COMMON_MUSICPATH_MAIN_RAWE28, MM_COMMON_MUSICPATH_MAIN_RAWE29, MM_COMMON_MUSICPATH_MAIN_RAWE30, MM_COMMON_MUSICPATH_MAIN_RAWE31, MM_COMMON_MUSICPATH_MAIN_RAWE32, MM_COMMON_MUSICPATH_MAIN_RAWE33, MM_COMMON_MUSICPATH_MAIN_RAWE34, MM_COMMON_MUSICPATH_MAIN_RAWE35, MM_COMMON_MUSICPATH_MAIN_RAWE36, MM_COMMON_MUSICPATH_MAIN_RAWE37, MM_COMMON_MUSICPATH_MAIN_RAWE38, MM_COMMON_MUSICPATH_MAIN_RAWE39, MM_COMMON_MUSICPATH_MAIN_RAWE40, MM_COMMON_MUSICPATH_MAIN_RAWE41, MM_COMMON_MUSICPATH_MAIN_RAWE42, MM_COMMON_MUSICPATH_MAIN_RAWE43, MM_COMMON_MUSICPATH_MAIN_RAWE44, MM_COMMON_MUSICPATH_MAIN_RAWE45, MM_COMMON_MUSICPATH_MAIN_RAWE46, MM_COMMON_MUSICPATH_MAIN_RAWE47, MM_COMMON_MUSICPATH_MAIN_RAWE48, MM_COMMON_MUSICPATH_MAIN_RAWE49 };

const char* const p_mainThemeSamplesF[50] = { MM_COMMON_MUSICPATH_MAIN_RAWF0, MM_COMMON_MUSICPATH_MAIN_RAWF1, MM_COMMON_MUSICPATH_MAIN_RAWF2, MM_COMMON_MUSICPATH_MAIN_RAWF3, MM_COMMON_MUSICPATH_MAIN_RAWF4, MM_COMMON_MUSICPATH_MAIN_RAWF5, MM_COMMON_MUSICPATH_MAIN_RAWF6, MM_COMMON_MUSICPATH_MAIN_RAWF7, MM_COMMON_MUSICPATH_MAIN_RAWF8, MM_COMMON_MUSICPATH_MAIN_RAWF9, MM_COMMON_MUSICPATH_MAIN_RAWF10, MM_COMMON_MUSICPATH_MAIN_RAWF11, MM_COMMON_MUSICPATH_MAIN_RAWF12, MM_COMMON_MUSICPATH_MAIN_RAWF13, MM_COMMON_MUSICPATH_MAIN_RAWF14, MM_COMMON_MUSICPATH_MAIN_RAWF15, MM_COMMON_MUSICPATH_MAIN_RAWF16, MM_COMMON_MUSICPATH_MAIN_RAWF17, MM_COMMON_MUSICPATH_MAIN_RAWF18, MM_COMMON_MUSICPATH_MAIN_RAWF19, MM_COMMON_MUSICPATH_MAIN_RAWF20, MM_COMMON_MUSICPATH_MAIN_RAWF21, MM_COMMON_MUSICPATH_MAIN_RAWF22, MM_COMMON_MUSICPATH_MAIN_RAWF23, MM_COMMON_MUSICPATH_MAIN_RAWF24, MM_COMMON_MUSICPATH_MAIN_RAWF25, MM_COMMON_MUSICPATH_MAIN_RAWF26, MM_COMMON_MUSICPATH_MAIN_RAWF27, MM_COMMON_MUSICPATH_MAIN_RAWF28, MM_COMMON_MUSICPATH_MAIN_RAWF29, MM_COMMON_MUSICPATH_MAIN_RAWF30, MM_COMMON_MUSICPATH_MAIN_RAWF31, MM_COMMON_MUSICPATH_MAIN_RAWF32, MM_COMMON_MUSICPATH_MAIN_RAWF33, MM_COMMON_MUSICPATH_MAIN_RAWF34, MM_COMMON_MUSICPATH_MAIN_RAWF35, MM_COMMON_MUSICPATH_MAIN_RAWF36, MM_COMMON_MUSICPATH_MAIN_RAWF37, MM_COMMON_MUSICPATH_MAIN_RAWF38, MM_COMMON_MUSICPATH_MAIN_RAWF39, MM_COMMON_MUSICPATH_MAIN_RAWF40, MM_COMMON_MUSICPATH_MAIN_RAWF41, MM_COMMON_MUSICPATH_MAIN_RAWF42, MM_COMMON_MUSICPATH_MAIN_RAWF43, MM_COMMON_MUSICPATH_MAIN_RAWF44, MM_COMMON_MUSICPATH_MAIN_RAWF45, MM_COMMON_MUSICPATH_MAIN_RAWF46, MM_COMMON_MUSICPATH_MAIN_RAWF47, MM_COMMON_MUSICPATH_MAIN_RAWF48, MM_COMMON_MUSICPATH_MAIN_RAWF49 };

static MM_COMMON_THEMEID p_themeID = MM_COMMON_THEMEID_NONE;

// MAIN THEME BUFFER INDICES

static int64_t p_mainLoop = -1;

// EXTRAPLOCAN THEME BUFFER INDICES

static int64_t p_extrapIntroOrcB = -1;
static int64_t p_extrapIntroPercB = -1;

static int64_t p_extrapPercA = -1;
static int64_t p_extrapPercB = -1;
static int64_t p_extrapPercC = -1;
static int64_t p_extrapPercD = -1;
static int64_t p_extrapPercE = -1;

static int64_t p_extrapOrcA = -1;
static int64_t p_extrapOrcB = -1;
static int64_t p_extrapOrcC = -1;
static int64_t p_extrapOrcD = -1;
static int64_t p_extrapOrcE = -1;

static int64_t p_extrapVoxA = -1;
static int64_t p_extrapVoxB = -1;
static int64_t p_extrapVoxC = -1;
static int64_t p_extrapVoxD = -1;
static int64_t p_extrapVoxE = -1;

static size_t p_extrapIt = 0;

// DAY-TO-DAY

static size_t p_comedyBrassCello0 = -1;
static size_t p_comedyBrassCello1 = -1;
static size_t p_comedyBrassCello2 = -1;
static size_t p_comedyBrassCello3 = -1;

static size_t p_comedyDrum0 = -1;
static size_t p_comedyDrum1 = -1;
static size_t p_comedyDrum2 = -1;
static size_t p_comedyDrum3 = -1;
static size_t p_comedyDrum4A = -1;
static size_t p_comedyDrum4B = -1;
static size_t p_comedyDrum5 = -1;
static size_t p_comedyDrum6A = -1;
static size_t p_comedyDrum6B = -1;

static size_t p_comedyOrgan0 = -1;
static size_t p_comedyOrgan1 = -1;
static size_t p_comedyOrgan3 = -1;

static size_t p_comedyIteration = 0;
static size_t p_comedyRandomDrumPattern = 0;

// PANIC

static int64_t p_panicAmbience = -1;
static int64_t p_panicDrums = -1;
static int64_t p_panicPiano = -1;

static int64_t p_panicTrombone = -1;

static int64_t p_panicAmsynth0 = -1;
static int64_t p_panicAmsynth1 = -1;

static int64_t p_panicSaxRep0 = -1;
static int64_t p_panicSaxRep1 = -1;

static int64_t p_panicSaxSolo0 = -1;
static int64_t p_panicSaxSolo1 = -1;
static int64_t p_panicSaxSolo2 = -1;
static int64_t p_panicSaxSolo3 = -1;

static size_t p_panicIt = 0;
static size_t p_panicPhaseIt = 0;
static size_t p_panicSoloIt = 0;

// DARK CITY THEME

static int64_t p_darkCityA0 = -1;
static int64_t p_darkCityA1 = -1;
static int64_t p_darkCityB0 = -1;
static int64_t p_darkCityB1 = -1;
static int64_t p_darkCityC0 = -1;
static int64_t p_darkCityC1 = -1;
static int64_t p_darkCityD0 = -1;
static int64_t p_darkCityD1 = -1;
static int64_t p_darkCityE0 = -1;
static int64_t p_darkCityE1 = -1;
static int64_t p_darkCityF0 = -1;
static int64_t p_darkCityF1 = -1;
static int64_t p_darkCityG0 = -1;
static int64_t p_darkCityG1 = -1;
static int64_t p_darkCityH0 = -1;
static int64_t p_darkCityH1 = -1;
static int64_t p_darkCityI0 = -1;

static size_t p_darkCitySwitch = 0;

static int64_t p_lastDarkCitySwitch = -1;
static int64_t p_lastDarkCityMelodyChange = -1;

// PAMALEANA THEME

static int64_t p_pamThemePiano0 = -1;
static int64_t p_pamThemePiano1 = -1;
static int64_t p_pamThemePiano2 = -1;
static int64_t p_pamThemePiano3 = -1;
static int64_t p_pamThemePiano4 = -1;
static int64_t p_pamThemePiano5 = -1;
static int64_t p_pamThemePiano6 = -1;
static int64_t p_pamThemePiano7 = -1;
static int64_t p_pamThemePiano8 = -1;
static int64_t p_pamThemePiano9 = -1;

static int64_t p_pamThemeContrabass0 = -1;
static int64_t p_pamThemeContrabass1 = -1;
static int64_t p_pamThemeContrabass2 = -1;
static int64_t p_pamThemeContrabass3 = -1;
static int64_t p_pamThemeContrabass4 = -1;
static int64_t p_pamThemeContrabass5 = -1;
static int64_t p_pamThemeContrabass7 = -1;
static int64_t p_pamThemeContrabass8 = -1;
static int64_t p_pamThemeContrabass9 = -1;

static int64_t p_pamThemeViolin0 = -1;
static int64_t p_pamThemeViolin1 = -1;
static int64_t p_pamThemeViolin2 = -1;
static int64_t p_pamThemeViolin3 = -1;
static int64_t p_pamThemeViolin4 = -1;
static int64_t p_pamThemeViolin5 = -1;
static int64_t p_pamThemeViolin7 = -1;
static int64_t p_pamThemeViolin8 = -1;
static int64_t p_pamThemeViolin9 = -1;

static int64_t p_pamThemeMarimba0 = -1;
static int64_t p_pamThemeMarimba1 = -1;
static int64_t p_pamThemeMarimba2 = -1;
static int64_t p_pamThemeMarimba3 = -1;
static int64_t p_pamThemeMarimba4 = -1;
static int64_t p_pamThemeMarimba5 = -1;
static int64_t p_pamThemeMarimba7 = -1;
static int64_t p_pamThemeMarimba8 = -1;
static int64_t p_pamThemeMarimba9 = -1;

static int64_t p_pamThemeWavetable0 = -1;
static int64_t p_pamThemeWavetable1 = -1;
static int64_t p_pamThemeWavetable2 = -1;
static int64_t p_pamThemeWavetable3 = -1;
static int64_t p_pamThemeWavetable4 = -1;
static int64_t p_pamThemeWavetable5 = -1;
static int64_t p_pamThemeWavetable6 = -1;
static int64_t p_pamThemeWavetable7 = -1;
static int64_t p_pamThemeWavetable8 = -1;
static int64_t p_pamThemeWavetable9 = -1;

static int64_t p_pamThemeAMSynth0 = -1;
static int64_t p_pamThemeAMSynth1 = -1;
static int64_t p_pamThemeAMSynth2 = -1;
static int64_t p_pamThemeAMSynth3 = -1;
static int64_t p_pamThemeAMSynth4 = -1;
static int64_t p_pamThemeAMSynth5 = -1;
static int64_t p_pamThemeAMSynth6 = -1;
static int64_t p_pamThemeAMSynth7 = -1;
static int64_t p_pamThemeAMSynth8 = -1;
static int64_t p_pamThemeAMSynth9 = -1;

static size_t p_pamThemeIteration = 0;

// SUSPENSE

static int64_t p_suspenseClarinetD = -1;
static int64_t p_suspenseClarinetE = -1;
static int64_t p_suspenseClarinetF = -1;
static int64_t p_suspenseClarinetG = -1;

static int64_t p_suspensePercussA = -1;
static int64_t p_suspensePercussB = -1;
static int64_t p_suspensePercussC = -1;
static int64_t p_suspensePercussD = -1;
static int64_t p_suspensePercussE = -1;
static int64_t p_suspensePercussF = -1;
static int64_t p_suspensePercussG = -1;

static int64_t p_suspensePianoA = -1;
static int64_t p_suspensePianoC = -1;
static int64_t p_suspensePianoD = -1;
static int64_t p_suspensePianoE = -1;
static int64_t p_suspensePianoF = -1;
static int64_t p_suspensePianoG = -1;

static int64_t p_suspenseViolinA = -1;
static int64_t p_suspenseViolinB = -1;
static int64_t p_suspenseViolinC = -1;
static int64_t p_suspenseViolinD = -1;
static int64_t p_suspenseViolinE = -1;
static int64_t p_suspenseViolinF = -1;
static int64_t p_suspenseViolinG = -1;

static size_t p_suspenseIt = 0;

// DAYDAY THEME

static int64_t p_dayToDayDrum0 = -1;
static int64_t p_dayToDayDrum1 = -1;

static int64_t p_dayToDayMonosynth0 = -1;
static int64_t p_dayToDayMonosynth1 = -1;

static int64_t p_dayToDayOrganA0 = -1;
static int64_t p_dayToDayOrganA1 = -1;
static int64_t p_dayToDayOrganA2 = -1;

static int64_t p_dayToDayOrganB0 = -1;
static int64_t p_dayToDayOrganB1 = -1;
static int64_t p_dayToDayOrganB2 = -1;

static size_t p_dayToDayIt = 0;

// DREAM THEME

static int64_t p_dreamHarpA = -1;
static int64_t p_dreamHarpB = -1;
static int64_t p_dreamHarpC = -1;
static int64_t p_dreamHarpD = -1;
static int64_t p_dreamHarpE = -1;
static int64_t p_dreamHarpF = -1;
static int64_t p_dreamHarpG = -1;
static int64_t p_dreamHarpH = -1;

static int64_t p_dreamLoop = -1;

static size_t p_dreamHarpIt = 0;

// DESERT WINDS

static int64_t p_desertWindsBellsA = -1;
static int64_t p_desertWindsBellsB = -1;
static int64_t p_desertWindsGuitar = -1;
static int64_t p_desertWindsWhistle = -1;

static bool p_desertWindsIntro = false;

static size_t p_desertWindsWhistleRep = 0;
static size_t p_desertWindsSoundRep = 0;
static size_t p_desertWindsWhistleIt = 0;
static size_t p_desertWindsSoundIt = 0;
static uint64_t p_desertWindsWhistleMark = 0;
static uint64_t p_desertWindsWhistleDuration = 0;

static const char* const p_desertWindsAtmosphere[12] = { MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE00, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE01, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE02, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE03, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE04, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE05, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE06, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE07, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE08, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE09, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE10, MM_COMMON_MUSICPATH_DESERTWINDS_ATMOSPHERE11 };

// DESERT TOWN

static int64_t p_desertTownHarpA = -1;
static int64_t p_desertTownHarpB = -1;
static int64_t p_desertTownHarpC = -1;
static int64_t p_desertTownHarpD = -1;

static int64_t p_desertTownOrganA = -1;
static int64_t p_desertTownOrganB = -1;
static int64_t p_desertTownOrganC = -1;
static int64_t p_desertTownOrganD = -1;

static int64_t p_desertTownPianoA = -1;
static int64_t p_desertTownPianoB = -1;
static int64_t p_desertTownPianoC = -1;
static int64_t p_desertTownPianoD = -1;

static int64_t p_desertTownGuitarA = -1;
static int64_t p_desertTownGuitarB = -1;
static int64_t p_desertTownGuitarC = -1;
static int64_t p_desertTownGuitarD = -1;

static int64_t p_desertTownHarmonicaA = -1;
static int64_t p_desertTownHarmonicaB = -1;
static int64_t p_desertTownHarmonicaC = -1;
static int64_t p_desertTownHarmonicaD = -1;

static size_t p_desertTownIterations = 0;
static size_t p_desertTownPart = 0;
static size_t p_desertTownPartIterations = 0;

// AGGRESSION

static int64_t p_aggressionDrums = -1;
static int64_t p_aggressionOrgan1 = -1;
static int64_t p_aggressionOrgan2 = -1;
static int64_t p_aggressionCelloHarspi = -1;
static int64_t p_aggressionAMSynth1 = -1;
static int64_t p_aggressionAMSynth2A = -1;
static int64_t p_aggressionAMSynth2B = -1;
static int64_t p_aggressionAMSynth2C = -1;
static int64_t p_aggressionAMSynth2D = -1;
static int64_t p_aggressionAMSynth2E = -1;
static int64_t p_aggressionAMSynth2F = -1;
static int64_t p_aggressionAMSynth2G = -1;

static size_t p_aggressionIterations = 0;

// WORKDAY

static int64_t p_workdayDrums = -1;

static int64_t p_workdayPianoA = -1;
static int64_t p_workdayPianoB = -1;

static int64_t p_workdayBassoonA = -1;
static int64_t p_workdayBassoonB = -1;
static int64_t p_workdayBassoonC = -1;

static int64_t p_workdayGlockandXyloA = -1;
static int64_t p_workdayGlockandXyloB = -1;
static int64_t p_workdayGlockandXyloC = -1;

static int64_t p_workdayTubaSaxCelloA = -1;
static int64_t p_workdayTubaSaxCelloB = -1;
static int64_t p_workdayTubaSaxCelloC = -1;

static int64_t p_workdayOcarinaA = -1;
static int64_t p_workdayOcarinaB = -1;

static double p_workdayVolume = 0.8;

static size_t p_workdayIt = 0;

// FEAR

static int64_t p_fearAmsynthA = -1;
static int64_t p_fearAmsynthB = -1;
static int64_t p_fearAmsynthC = -1;
static int64_t p_fearAmsynthD = -1;
static int64_t p_fearAmsynthE = -1;
static int64_t p_fearAmsynthF = -1;
static int64_t p_fearAmsynthG = -1;
static int64_t p_fearAmsynthH = -1;
static int64_t p_fearAmsynthI = -1;
static int64_t p_fearAmsynthJ = -1;

static int64_t p_fearOrganA = -1;
static int64_t p_fearOrganB = -1;
static int64_t p_fearOrganC = -1;
static int64_t p_fearOrganD = -1;
static int64_t p_fearOrganE = -1;
static int64_t p_fearOrganF = -1;
static int64_t p_fearOrganG = -1;
static int64_t p_fearOrganH = -1;
static int64_t p_fearOrganI = -1;
static int64_t p_fearOrganJ = -1;

static int64_t p_fearHarpA = -1;
static int64_t p_fearHarpB = -1;
static int64_t p_fearHarpC = -1;
static int64_t p_fearHarpD = -1;
static int64_t p_fearHarpE = -1;
static int64_t p_fearHarpF = -1;
static int64_t p_fearHarpG = -1;
static int64_t p_fearHarpH = -1;
static int64_t p_fearHarpI = -1;
static int64_t p_fearHarpJ = -1;

static int64_t p_fearViolinA = -1;
static int64_t p_fearViolinB = -1;
static int64_t p_fearViolinC = -1;
static int64_t p_fearViolinD = -1;
static int64_t p_fearViolinE = -1;
static int64_t p_fearViolinF = -1;
static int64_t p_fearViolinG = -1;
static int64_t p_fearViolinH = -1;
static int64_t p_fearViolinI = -1;
static int64_t p_fearViolinJ = -1;

static size_t p_fearIt = 0;

static int64_t p_fearBufferList[40];

// PUNK THEME

static int64_t p_punkGuitar = -1;
static int64_t p_punkBass = -1;
static int64_t p_punkDrums = -1;

static int64_t p_punkVoxA = -1;
static int64_t p_punkVoxB = -1;
static int64_t p_punkVoxC = -1;

static size_t p_punkLastIteration = 0;

static double p_punkVolume = 1;


// METAL THEME

static int64_t p_metalGuitar = -1;
static int64_t p_metalBass = -1;
static int64_t p_metalDrums = -1;

// STRIFE THEME

static int64_t p_strifeLeftA1 = -1;
static int64_t p_strifeLeftB1 = -1;
static int64_t p_strifeLeftC1 = -1;
static int64_t p_strifeLeftD1 = -1;

static int64_t p_strifeLeftA2 = -1;
static int64_t p_strifeLeftB2 = -1;
static int64_t p_strifeLeftC2 = -1;
static int64_t p_strifeLeftD2 = -1;

static int64_t p_strifeLeftA3 = -1;
static int64_t p_strifeLeftB3 = -1;
static int64_t p_strifeLeftC3 = -1;
static int64_t p_strifeLeftD3 = -1;

static int64_t p_strifeRight = -1;
static int64_t p_strifeOboe = -1;
static int64_t p_strifeFlute = -1;
static int64_t p_strifeBassoon = -1;
static int64_t p_strifeViolins = -1;

static size_t p_strifeVariation = 0;
static size_t p_strifeTone = 0;
static size_t p_strifeSection = 0;

//

static bool p_soundEffect[PLEX_LIMIT_SOUNDCHANNELS];
static bool p_musicLoop[PLEX_LIMIT_SOUNDCHANNELS];
static bool p_musicBuffers[PLEX_LIMIT_PREBUFFERCOUNT];

static void p_musicChannelOff(const size_t index)
{
	p_musicLoop[index] = false;

	PLEX_soundChannelOff(index);
}

static bool p_musicAssignBuffer(const size_t buffer, const size_t index)
{
	p_musicLoop[index] = true;
	p_soundEffect[index] = false;

	if(PLEX_isSoundPlaying(index)) p_musicChannelOff(index);

	return PLEX_assignSoundBuffer(buffer, index);
}

static void p_musicChannelOn(const bool loop, const size_t index)
{
	p_musicLoop[index] = true;
	p_soundEffect[index] = false;

	if(PLEX_isSoundPlaying(index)) PLEX_soundChannelOff(index);

	PLEX_soundChannelOn(loop, index);
}

static int64_t p_preloadMusicFileToSpecificBuffer(const char* const path, const size_t index)
{
	if(!PLEX_preloadSoundFileToSpecificBuffer(path, index))
	{
		// error
		return -1;
	}

	p_musicBuffers[index] = true;

	return index;
}

static int64_t p_preloadMusicFile(const char* const path)
{
	size_t index = PLEX_preloadSoundFile(path);

	if(index >= PLEX_LIMIT_PREBUFFERCOUNT)
	{
		// error
		return -1;
	}

	p_musicBuffers[index] = true;

	return index;
}

static void p_clearTheme()
{
	for(size_t ze = 0; ze < PLEX_LIMIT_SOUNDCHANNELS; ++ze)
	{
		if(PLEX_isSoundPlaying(ze)) PLEX_soundChannelOff(ze);

		p_musicLoop[ze] = false;
		p_soundEffect[ze] = false;
	}

	for(size_t ze = 0; ze < PLEX_LIMIT_PREBUFFERCOUNT; ++ze) p_musicBuffers[ze] = false;

	PLEX_clearSoundPreloads();
}

static void p_reloadMainTheme(const size_t voiceIndex, const size_t sampleIndex)
{
	const char* mainThemeSample = NULL;

	int64_t voice = 0;

	if(voiceIndex >= 6) return;

	PLEX_clearSoundBufferByChannel(voiceIndex + 1);

	switch(voiceIndex)
	{
		case 0: mainThemeSample = p_mainThemeSamplesA[sampleIndex]; break;
		case 1: mainThemeSample = p_mainThemeSamplesB[sampleIndex]; break;
		case 2: mainThemeSample = p_mainThemeSamplesC[sampleIndex]; break;
		case 3: mainThemeSample = p_mainThemeSamplesD[sampleIndex]; break;
		case 4: mainThemeSample = p_mainThemeSamplesE[sampleIndex]; break;
		case 5: mainThemeSample = p_mainThemeSamplesF[sampleIndex]; break;
	};

	voice = p_preloadMusicFile(mainThemeSample);

	p_musicChannelOff(voiceIndex + 1);

	if(voice != -1 && p_musicAssignBuffer(voice, voiceIndex + 1)) p_musicChannelOn(false, voiceIndex + 1);
}

static void p_updateMainThemeVoice()
{
	if(!PLEX_isSoundPlaying(0))
	{
		const size_t sampleIndex = PLEX_randomNumber(0, 49);

		p_mainLoop = p_preloadMusicFile(MM_COMMON_MUSICPATH_MAIN_LOOP);

		if(p_mainLoop != -1 && p_musicAssignBuffer(p_mainLoop, 0)) p_musicChannelOn(false, 0);

		for(size_t ze = 0; ze < 6; ++ze) p_reloadMainTheme(ze, sampleIndex);
	}
}

static void p_playThemeMain()
{
	const size_t voiceIndex = PLEX_randomNumber(0, 49);

	p_mainLoop = p_preloadMusicFile(MM_COMMON_MUSICPATH_MAIN_LOOP);

	if(p_mainLoop != -1 && p_musicAssignBuffer(p_mainLoop, 0)) p_musicChannelOn(false, 0);

	for(size_t ze = 0; ze < 6; ++ze) p_reloadMainTheme(ze, voiceIndex);
}

static void p_playThemeExtraplocan()
{
	const int64_t introOrcA = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_INTROORCHA);
	const int64_t introPercA = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_INTROPERCA);

	p_extrapIntroOrcB = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_INTROORCHB);
	p_extrapIntroPercB = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_INTROPERCB);

	p_extrapPercA = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_PERCA);
	p_extrapPercB = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_PERCB);
	p_extrapPercC = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_PERCC);
	p_extrapPercD = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_PERCD);
	p_extrapPercE = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_PERCE);

	p_extrapOrcA = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_ORCHA);
	p_extrapOrcB = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_ORCHB);
	p_extrapOrcC = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_ORCHC);
	p_extrapOrcD = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_ORCHD);
	p_extrapOrcE = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_ORCHE);

	p_extrapVoxA = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_VOXA);
	p_extrapVoxB = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_VOXB);
	p_extrapVoxC = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_VOXC);
	p_extrapVoxD = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_VOXD);
	p_extrapVoxE = p_preloadMusicFile(MM_COMMON_MUSICPATH_EXTRAP_VOXE);

	if(introOrcA != -1 && p_musicAssignBuffer(introOrcA, 0)) p_musicChannelOn(false, 0);
	if(introPercA != -1 && p_musicAssignBuffer(introPercA, 1)) p_musicChannelOn(false, 1);

	p_extrapIt = 0;
}

static void p_updateExtrapTheme()
{
	if(!PLEX_isSoundPlaying(0))
	{
		p_musicChannelOff(0);
		p_musicChannelOff(1);
		p_musicChannelOff(2);

		switch(p_extrapIt)
		{
			case 0:
				p_musicAssignBuffer(p_extrapIntroOrcB, 0);
				p_musicAssignBuffer(p_extrapIntroPercB, 1);
			break;

			case 1:
				p_musicAssignBuffer(p_extrapOrcA, 0);
				p_musicAssignBuffer(p_extrapPercA, 1);
				p_musicAssignBuffer(p_extrapVoxA, 2);
			break;

			case 2:
				p_musicAssignBuffer(p_extrapOrcB, 0);
				p_musicAssignBuffer(p_extrapPercB, 1);
				p_musicAssignBuffer(p_extrapVoxB, 2);
			break;

			case 3:
				p_musicAssignBuffer(p_extrapOrcC, 0);
				p_musicAssignBuffer(p_extrapPercC, 1);
				p_musicAssignBuffer(p_extrapVoxC, 2);
			break;

			case 4:
				p_musicAssignBuffer(p_extrapOrcD, 0);
				p_musicAssignBuffer(p_extrapPercD, 1);
				p_musicAssignBuffer(p_extrapVoxD, 2);
			break;

			case 5:
				p_musicAssignBuffer(p_extrapOrcE, 0);
				p_musicAssignBuffer(p_extrapPercE, 1);
				p_musicAssignBuffer(p_extrapVoxE, 2);
			break;
		};

		p_musicChannelOn(false, 0);
		p_musicChannelOn(false, 1);
		if(p_extrapIt) p_musicChannelOn(false, 2);

		++p_extrapIt;
		if(p_extrapIt >= 6) p_extrapIt = 1;
	}
}

static void p_playThemeNewsroom()
{
	const int64_t drum0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_DRUM0);
	const int64_t drum1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_DRUM1);

	const int64_t trumpet0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_TRUMPET0);
	const int64_t trumpet1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_TRUMPET1);

	const int64_t synthA = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_SYNTHA);

	const int64_t synthB = p_preloadMusicFile(MM_COMMON_MUSICPATH_NEWSROOM_SYNTHB);

	if(drum0 != -1 && p_musicAssignBuffer(drum0, 0)) p_musicChannelOn(true, 0);
	if(trumpet0 != -1 && p_musicAssignBuffer(trumpet0, 1)) p_musicChannelOn(true, 1);

	if(synthA != -1 && p_musicAssignBuffer(synthA, 2)) p_musicChannelOn(true, 2);
	if(synthB != -1 && p_musicAssignBuffer(synthB, 3)) p_musicChannelOn(true, 3);
	if(drum1 != -1 && p_musicAssignBuffer(drum1, 4)) p_musicChannelOn(true, 4);
	if(trumpet1 != -1 && p_musicAssignBuffer(trumpet1, 5)) p_musicChannelOn(true, 5);

	PLEX_setComplexSoundSequence(true, false, false, false, false, false, false, false, 5, 0);
	PLEX_setComplexSoundSequence(true, false, false, false, false, false, false, false, 5, 1);

	PLEX_setComplexSoundSequence(false, true, true, true, true, false, false, false, 5, 2);
	PLEX_setComplexSoundSequence(false, true, true, true, true, false, false, false, 5, 3);
	PLEX_setComplexSoundSequence(false, true, true, true, true, false, false, false, 5, 4);
	PLEX_setComplexSoundSequence(false, true, true, true, true, false, false, false, 5, 5);
}

static void p_playThemeComedy()
{
	p_comedyBrassCello0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_BC0);
	p_comedyBrassCello1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_BC1);
	p_comedyBrassCello2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_BC2);
	p_comedyBrassCello3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_BC3);

	p_comedyDrum0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D0);
	p_comedyDrum1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D1);
	p_comedyDrum2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D2);
	p_comedyDrum3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D3);
	p_comedyDrum4A = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D4A);
	p_comedyDrum4B = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D4B);
	p_comedyDrum5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D5);
	p_comedyDrum6A = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D6A);
	p_comedyDrum6B = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_D6B);

	p_comedyOrgan0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_O0);
	p_comedyOrgan1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_O1);
	p_comedyOrgan3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_COMEDY_O3);

	if(p_comedyBrassCello0 != -1 && p_musicAssignBuffer(p_comedyBrassCello0, 0)) p_musicChannelOn(false, 0);
	if(p_comedyDrum0 != -1 && p_musicAssignBuffer(p_comedyDrum0, 1)) p_musicChannelOn(false, 1);
	if(p_comedyOrgan0 != -1 && p_musicAssignBuffer(p_comedyOrgan0, 2)) p_musicChannelOn(false, 2);

	p_comedyIteration = 0;
	p_comedyRandomDrumPattern = 0;
}

static void p_updateComedy()
{
	if(!PLEX_isSoundPlaying(0))
	{
		size_t randomDrumPart = 0;
		size_t randomDrumPart2 = 0;

		++p_comedyIteration;

		if(p_comedyIteration >= 6)
		{
			p_comedyIteration = 2;
			p_comedyRandomDrumPattern = PLEX_randomNumber(0, 100);
		}

		p_musicChannelOff(0);
		p_musicChannelOff(1);
		p_musicChannelOff(2);

		if(p_comedyRandomDrumPattern < 50)
		{
			randomDrumPart = p_comedyDrum1;
			randomDrumPart2 = p_comedyDrum1;
		}else if(p_comedyRandomDrumPattern < 75){
			randomDrumPart = p_comedyDrum2;
			randomDrumPart2 = p_comedyDrum2;
		}else if(p_comedyRandomDrumPattern < 87){
			randomDrumPart = p_comedyDrum3;
			randomDrumPart2 = p_comedyDrum3;
		}else if(p_comedyRandomDrumPattern < 94){
			randomDrumPart = p_comedyDrum4A;
			randomDrumPart2 = p_comedyDrum4B;
		}else if(p_comedyRandomDrumPattern < 97){
			randomDrumPart = p_comedyDrum5;
			randomDrumPart2 = p_comedyDrum5;
		}else{
			randomDrumPart = p_comedyDrum6A;
			randomDrumPart2 = p_comedyDrum6B;
		}

		switch(p_comedyIteration)
		{
			case 1:
				if(p_comedyBrassCello1 != -1 && p_musicAssignBuffer(p_comedyBrassCello1, 0)) p_musicChannelOn(false, 0);
				if(p_comedyOrgan1 != -1 && p_musicAssignBuffer(p_comedyOrgan1, 2)) p_musicChannelOn(false, 2);
			break;

			case 2:
			case 4:
				if(p_comedyBrassCello2 != -1 && p_musicAssignBuffer(p_comedyBrassCello2, 0)) p_musicChannelOn(false, 0);
				if(randomDrumPart != -1 && p_musicAssignBuffer(randomDrumPart, 1)) p_musicChannelOn(false, 1);
				if(p_comedyOrgan1 != -1 && p_musicAssignBuffer(p_comedyOrgan1, 2)) p_musicChannelOn(false, 2);
			break;

			case 3:
				if(p_comedyBrassCello1 != -1 && p_musicAssignBuffer(p_comedyBrassCello1, 0)) p_musicChannelOn(false, 0);
				if(randomDrumPart2 != -1 && p_musicAssignBuffer(randomDrumPart2, 1)) p_musicChannelOn(false, 1);
				if(p_comedyOrgan1 != -1 && p_musicAssignBuffer(p_comedyOrgan1, 2)) p_musicChannelOn(false, 2);
			break;

			case 5:
				if(p_comedyBrassCello3 != -1 && p_musicAssignBuffer(p_comedyBrassCello3, 0)) p_musicChannelOn(false, 0);
				if(randomDrumPart2 != -1 && p_musicAssignBuffer(randomDrumPart2, 1)) p_musicChannelOn(false, 1);
				if(p_comedyOrgan3 != -1 && p_musicAssignBuffer(p_comedyOrgan3, 2)) p_musicChannelOn(false, 2);
			break;
		};
	}
}

static void p_playThemePanic()
{
	p_panicAmbience = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_AMBIENCE);
	p_panicDrums = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_DRUMS);
	p_panicPiano = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_PIANO);
	p_panicTrombone = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_TROMBONE);

	p_panicAmsynth0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_AMSYNTH0);
	p_panicAmsynth1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_AMSYNTH1);

	p_panicSaxRep0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXREP0);
	p_panicSaxRep1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXREP1);

	p_panicSaxSolo0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXSOLO0);
	p_panicSaxSolo1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXSOLO1);
	p_panicSaxSolo2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXSOLO2);
	p_panicSaxSolo3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PANIC_SAXSOLO3);

	if(p_panicAmbience != -1 && p_musicAssignBuffer(p_panicAmbience, 0)) p_musicChannelOn(false, 0);

	if(p_panicDrums != -1) p_musicAssignBuffer(p_panicDrums, 1);
	if(p_panicPiano != -1) p_musicAssignBuffer(p_panicPiano, 2);
	if(p_panicTrombone != -1) p_musicAssignBuffer(p_panicTrombone, 4);

	p_panicIt = 0;
	p_panicPhaseIt = 0;
	p_panicSoloIt = 0;
}

static void p_updateThemePanic()
{
	bool isSoloing = false;

	if(PLEX_isSoundPlaying(0) || PLEX_isSoundPlaying(6)) return;

	p_musicChannelOff(0);
	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);
	p_musicChannelOff(6);

	++p_panicIt;

	isSoloing = p_panicPhaseIt == 4 && p_panicIt == 1;

	if(!isSoloing)
	{
		if(p_panicAmbience != -1) p_musicChannelOn(false, 0);
		if(p_panicDrums != -1 && (p_panicPhaseIt || p_panicIt)) p_musicChannelOn(false, 1);
	}

	switch(p_panicPhaseIt)
	{
		case 0:
			p_panicPhaseIt = 1;
			p_panicIt = 0;
		break;

		case 1:
			if(p_panicIt == 1 || p_panicIt == 3)
			{
				if(p_panicAmsynth0 != -1 && p_musicAssignBuffer(p_panicAmsynth0, 3)) p_musicChannelOn(false, 3);
				if(p_panicTrombone != -1) p_musicChannelOn(false, 4);
			}

			if(p_panicIt == 4)
			{
				p_panicPhaseIt = 2;
				p_panicIt = 0;
			}
		break;

		case 2:
			if(p_panicIt == 1 || p_panicIt == 3)
			{
				if(p_panicPiano != -1) p_musicChannelOn(false, 2);
				if(p_panicAmsynth0 != -1 && p_musicAssignBuffer(p_panicAmsynth0, 3)) p_musicChannelOn(false, 3);
				if(p_panicTrombone != -1) p_musicChannelOn(false, 4);
			}

			if(p_panicIt == 4)
			{
				p_panicPhaseIt = 3;
				p_panicIt = 0;
			}
		break;

		case 3:
			if(p_panicIt == 1 || p_panicIt == 2 || p_panicIt == 4 || p_panicIt == 5 || p_panicIt == 7 || p_panicIt == 8)
			{
				if(p_panicPiano != -1) p_musicChannelOn(false, 2);
				if(p_panicTrombone != -1) p_musicChannelOn(false, 4);
			}

			if(p_panicIt == 1 || p_panicIt == 4 || p_panicIt == 7)
			{
				if(p_panicAmsynth0 != -1 && p_musicAssignBuffer(p_panicAmsynth0, 3)) p_musicChannelOn(false, 3);
			}

			if(p_panicIt == 2 || p_panicIt == 5 || p_panicIt == 8)
			{
				if(p_panicAmsynth1 != -1 && p_musicAssignBuffer(p_panicAmsynth1, 3)) p_musicChannelOn(false, 3);
			}

			if(p_panicIt == 1 || p_panicIt == 2 || p_panicIt == 7 || p_panicIt == 8)
			{
				if(p_panicSaxRep0 != -1 && p_musicAssignBuffer(p_panicSaxRep0, 5)) p_musicChannelOn(false, 5);
			}

			if(p_panicIt == 4 || p_panicIt == 5)
			{
				if(p_panicSaxRep1 != -1 && p_musicAssignBuffer(p_panicSaxRep1, 5)) p_musicChannelOn(false, 5);
			}

			if(p_panicIt == 9)
			{
				p_panicPhaseIt = 4;
				p_panicIt = 0;
			}
		break;

		case 4:
			if(isSoloing)
			{
				switch(p_panicSoloIt)
				{
					case 0:
						if(p_panicSaxSolo0 != -1 && p_musicAssignBuffer(p_panicSaxSolo0, 6)) p_musicChannelOn(false, 6);
					break;

					case 1:
						if(p_panicSaxSolo1 != -1 && p_musicAssignBuffer(p_panicSaxSolo1, 6)) p_musicChannelOn(false, 6);
					break;

					case 2:
						if(p_panicSaxSolo2 != -1 && p_musicAssignBuffer(p_panicSaxSolo2, 6)) p_musicChannelOn(false, 6);
					break;

					case 3:
						if(p_panicSaxSolo3 != -1 && p_musicAssignBuffer(p_panicSaxSolo3, 6)) p_musicChannelOn(false, 6);
					break;
				};

				++p_panicSoloIt;
			}else{
				if(p_panicIt == 2 || p_panicIt == 3 || p_panicIt == 5 || p_panicIt == 6 || p_panicIt == 8 || p_panicIt == 9)
				{
					if(p_panicPiano != -1) p_musicChannelOn(false, 2);
					if(p_panicTrombone != -1) p_musicChannelOn(false, 4);
				}

				if(p_panicIt == 2 || p_panicIt == 5 || p_panicIt == 8)
				{
					if(p_panicAmsynth0 != -1 && p_musicAssignBuffer(p_panicAmsynth0, 3)) p_musicChannelOn(false, 3);
				}

				if(p_panicIt == 3 || p_panicIt == 6 || p_panicIt == 9)
				{
					if(p_panicAmsynth1 != -1 && p_musicAssignBuffer(p_panicAmsynth1, 3)) p_musicChannelOn(false, 3);
				}

				if(p_panicIt == 2 || p_panicIt == 3 || p_panicIt == 8 || p_panicIt == 9)
				{
					if(p_panicSaxRep0 != -1 && p_musicAssignBuffer(p_panicSaxRep0, 5)) p_musicChannelOn(false, 5);
				}

				if(p_panicIt == 5 || p_panicIt == 6)
				{
					if(p_panicSaxRep1 != -1 && p_musicAssignBuffer(p_panicSaxRep1, 5)) p_musicChannelOn(false, 5);
				}

				if(p_panicIt == 10)
				{
					if(p_panicSoloIt == 4)
					{
						p_panicPhaseIt = 2;
						p_panicSoloIt = 0;
					}

					p_panicIt = 0;
				}
			}
		break;
	};
}

static void p_playThemeDarkCity()
{
	p_darkCityA0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_A0);
	p_darkCityA1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_A1);
	p_darkCityB0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_B0);
	p_darkCityB1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_B1);
	p_darkCityC0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_C0);
	p_darkCityC1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_C1);
	p_darkCityD0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_D0);
	p_darkCityD1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_D1);
	p_darkCityE0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_E0);
	p_darkCityE1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_E1);
	p_darkCityF0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_F0);
	p_darkCityF1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_F1);
	p_darkCityG0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_G0);
	p_darkCityG1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_G1);
	p_darkCityH0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_H0);
	p_darkCityH1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_H1);
	p_darkCityI0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DARKCITY_I0);

	if(p_darkCityA0 != -1 && p_musicAssignBuffer(p_darkCityA0, 0)) p_musicChannelOn(true, 0);
	if(p_darkCityB0 != -1 && p_musicAssignBuffer(p_darkCityB0, 1)) p_musicChannelOn(true, 1);
	if(p_darkCityC0 != -1 && p_musicAssignBuffer(p_darkCityC0, 2)) p_musicChannelOn(true, 2);
	if(p_darkCityD0 != -1 && p_musicAssignBuffer(p_darkCityD0, 3)) p_musicChannelOn(true, 3);
	if(p_darkCityE0 != -1 && p_musicAssignBuffer(p_darkCityE0, 4)) p_musicChannelOn(true, 4);
	if(p_darkCityF0 != -1 && p_musicAssignBuffer(p_darkCityF0, 5)) p_musicChannelOn(true, 5);
	if(p_darkCityG0 != -1 && p_musicAssignBuffer(p_darkCityG0, 6)) p_musicChannelOn(true, 6);
	if(p_darkCityH0 != -1 && p_musicAssignBuffer(p_darkCityH0, 7)) p_musicChannelOn(true, 7);
	if(p_darkCityI0 != -1 && p_musicAssignBuffer(p_darkCityI0, 8)) p_musicChannelOn(true, 8);

	p_darkCitySwitch = PLEX_randomNumber(3, 6);
}

static void p_updateDarkCity()
{
	const size_t iteration = PLEX_channelIteration(8);

	if(p_darkCitySwitch < iteration && (p_darkCitySwitch != p_lastDarkCitySwitch || p_lastDarkCitySwitch == -1))
	{
		const size_t melodyChange = PLEX_randomNumber(0, 7);
		const int64_t bufferChange = PLEX_getBuffer(melodyChange);

		p_musicChannelOff(melodyChange);
		if(bufferChange != -1) p_musicAssignBuffer(bufferChange + 1, melodyChange);
		p_musicChannelOn(true, melodyChange);

		p_darkCitySwitch = iteration + PLEX_randomNumber(3, 6);
		p_lastDarkCitySwitch = iteration;
		p_lastDarkCityMelodyChange = melodyChange;
	}else{
		if(iteration > p_lastDarkCitySwitch && p_lastDarkCityMelodyChange != -1 && p_lastDarkCitySwitch != -1)
		{
			const int64_t bufferChange = PLEX_getBuffer(p_lastDarkCityMelodyChange);

			p_musicChannelOff(p_lastDarkCityMelodyChange);
			if(bufferChange > 0) p_musicAssignBuffer(bufferChange - 1, p_lastDarkCityMelodyChange);
			p_musicChannelOn(true, p_lastDarkCityMelodyChange);

			p_lastDarkCityMelodyChange = -1;
		}
	}
}

static void p_playThemePamaleana()
{
	p_pamThemePiano0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOA);
	p_pamThemePiano1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOB);
	p_pamThemePiano2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOC);
	p_pamThemePiano3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOD);
	p_pamThemePiano4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOE);
	p_pamThemePiano5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOF);
	p_pamThemePiano6 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOG);
	p_pamThemePiano7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOH);
	p_pamThemePiano8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOI);
	p_pamThemePiano9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_PIANOJ);

	p_pamThemeContrabass0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSA);
	p_pamThemeContrabass1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSB);
	p_pamThemeContrabass2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSC);
	p_pamThemeContrabass3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSD);
	p_pamThemeContrabass4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSE);
	p_pamThemeContrabass5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSF);
	p_pamThemeContrabass7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSH);
	p_pamThemeContrabass8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSI);
	p_pamThemeContrabass9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_CONTRABASSJ);

	p_pamThemeViolin0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINA);
	p_pamThemeViolin1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINB);
	p_pamThemeViolin2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINC);
	p_pamThemeViolin3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLIND);
	p_pamThemeViolin4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINE);
	p_pamThemeViolin5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINF);
	p_pamThemeViolin7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINH);
	p_pamThemeViolin8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINI);
	p_pamThemeViolin9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_VIOLINJ);

	p_pamThemeMarimba0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAA);
	p_pamThemeMarimba1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAB);
	p_pamThemeMarimba2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAC);
	p_pamThemeMarimba3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAD);
	p_pamThemeMarimba4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAE);
	p_pamThemeMarimba5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAF);
	p_pamThemeMarimba7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAH);
	p_pamThemeMarimba8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAI);
	p_pamThemeMarimba9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_MARIMBAJ);

	p_pamThemeWavetable0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEA);
	p_pamThemeWavetable1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEB);
	p_pamThemeWavetable2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEC);
	p_pamThemeWavetable3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLED);
	p_pamThemeWavetable4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEE);
	p_pamThemeWavetable5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEF);
	p_pamThemeWavetable6 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEG);
	p_pamThemeWavetable7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEH);
	p_pamThemeWavetable8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEI);
	p_pamThemeWavetable9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_WAVETABLEJ);

	p_pamThemeAMSynth0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHA);
	p_pamThemeAMSynth1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHB);
	p_pamThemeAMSynth2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHC);
	p_pamThemeAMSynth3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHD);
	p_pamThemeAMSynth4 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHE);
	p_pamThemeAMSynth5 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHF);
	p_pamThemeAMSynth6 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHG);
	p_pamThemeAMSynth7 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHH);
	p_pamThemeAMSynth8 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHI);
	p_pamThemeAMSynth9 = p_preloadMusicFile(MM_COMMON_MUSICPATH_PAMALEANA_AMSYNTHJ);

	if(p_pamThemePiano0 != -1 && p_musicAssignBuffer(p_pamThemePiano0, 0)) p_musicChannelOn(false, 0);
	if(p_pamThemeContrabass0 != -1 && p_musicAssignBuffer(p_pamThemeContrabass0, 1)) p_musicChannelOn(false, 1);
	if(p_pamThemeViolin0 != -1 && p_musicAssignBuffer(p_pamThemeViolin0, 2)) p_musicChannelOn(false, 2);
	if(p_pamThemeMarimba0 != -1 && p_musicAssignBuffer(p_pamThemeMarimba0, 3)) p_musicChannelOn(false, 3);
	if(p_pamThemeWavetable0 != -1 && p_musicAssignBuffer(p_pamThemeWavetable0, 4)) p_musicChannelOn(false, 4);
	if(p_pamThemeAMSynth0 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth0, 5)) p_musicChannelOn(false, 5);

	p_pamThemeIteration = 0;
}

static void p_updatePamaleanaTheme()
{
	if(!PLEX_isSoundPlaying(0))
	{
		switch(p_pamThemeIteration)
		{
			case 0:
				if(p_pamThemePiano1 != -1 && p_musicAssignBuffer(p_pamThemePiano1, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass1 != -1 && p_musicAssignBuffer(p_pamThemeContrabass1, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin1 != -1 && p_musicAssignBuffer(p_pamThemeViolin1, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba1 != -1 && p_musicAssignBuffer(p_pamThemeMarimba1, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable1 != -1 && p_musicAssignBuffer(p_pamThemeWavetable1, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth1 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth1, 5)) p_musicChannelOn(false, 5);
			break;

			case 1:
				if(p_pamThemePiano2 != -1 && p_musicAssignBuffer(p_pamThemePiano2, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass2 != -1 && p_musicAssignBuffer(p_pamThemeContrabass2, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin2 != -1 && p_musicAssignBuffer(p_pamThemeViolin2, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba2 != -1 && p_musicAssignBuffer(p_pamThemeMarimba2, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable2 != -1 && p_musicAssignBuffer(p_pamThemeWavetable2, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth2 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth2, 5)) p_musicChannelOn(false, 5);
			break;

			case 2:
				if(p_pamThemePiano3 != -1 && p_musicAssignBuffer(p_pamThemePiano3, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass3 != -1 && p_musicAssignBuffer(p_pamThemeContrabass3, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin3 != -1 && p_musicAssignBuffer(p_pamThemeViolin3, 3)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba3 != -1 && p_musicAssignBuffer(p_pamThemeMarimba3, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable3 != -1 && p_musicAssignBuffer(p_pamThemeWavetable3, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth3 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth3, 5)) p_musicChannelOn(false, 5);
			break;

			case 3:
				if(p_pamThemePiano4 != -1 && p_musicAssignBuffer(p_pamThemePiano4, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass4 != -1 && p_musicAssignBuffer(p_pamThemeContrabass4, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin4 != -1 && p_musicAssignBuffer(p_pamThemeViolin4, 4)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba4 != -1 && p_musicAssignBuffer(p_pamThemeMarimba4, 4)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable4 != -1 && p_musicAssignBuffer(p_pamThemeWavetable4, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth4 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth4, 5)) p_musicChannelOn(false, 5);
			break;

			case 4:
				if(p_pamThemePiano5 != -1 && p_musicAssignBuffer(p_pamThemePiano5, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass5 != -1 && p_musicAssignBuffer(p_pamThemeContrabass5, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin5 != -1 && p_musicAssignBuffer(p_pamThemeViolin5, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba5 != -1 && p_musicAssignBuffer(p_pamThemeMarimba5, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable5 != -1 && p_musicAssignBuffer(p_pamThemeWavetable5, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth5 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth5, 5)) p_musicChannelOn(false, 5);
			break;

			case 5:
				if(p_pamThemePiano6 != -1 && p_musicAssignBuffer(p_pamThemePiano6, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeWavetable6 != -1 && p_musicAssignBuffer(p_pamThemeWavetable6, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth6 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth6, 5)) p_musicChannelOn(false, 5);
			break;

			case 6:
				if(p_pamThemePiano7 != -1 && p_musicAssignBuffer(p_pamThemePiano7, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass7 != -1 && p_musicAssignBuffer(p_pamThemeContrabass7, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin7 != -1 && p_musicAssignBuffer(p_pamThemeViolin7, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba7 != -1 && p_musicAssignBuffer(p_pamThemeMarimba7, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable7 != -1 && p_musicAssignBuffer(p_pamThemeWavetable7, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth7 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth7, 5)) p_musicChannelOn(false, 5);
			break;

			case 7:
				if(p_pamThemePiano8 != -1 && p_musicAssignBuffer(p_pamThemePiano8, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass8 != -1 && p_musicAssignBuffer(p_pamThemeContrabass8, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin8 != -1 && p_musicAssignBuffer(p_pamThemeViolin8, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba8 != -1 && p_musicAssignBuffer(p_pamThemeMarimba8, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable8 != -1 && p_musicAssignBuffer(p_pamThemeWavetable8, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth8 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth8, 5)) p_musicChannelOn(false, 5);
			break;

			case 8:
				if(p_pamThemePiano9 != -1 && p_musicAssignBuffer(p_pamThemePiano9, 0)) p_musicChannelOn(false, 0);
				if(p_pamThemeContrabass9 != -1 && p_musicAssignBuffer(p_pamThemeContrabass9, 1)) p_musicChannelOn(false, 1);
				if(p_pamThemeViolin9 != -1 && p_musicAssignBuffer(p_pamThemeViolin9, 2)) p_musicChannelOn(false, 2);
				if(p_pamThemeMarimba9 != -1 && p_musicAssignBuffer(p_pamThemeMarimba9, 3)) p_musicChannelOn(false, 3);
				if(p_pamThemeWavetable9 != -1 && p_musicAssignBuffer(p_pamThemeWavetable9, 4)) p_musicChannelOn(false, 4);
				if(p_pamThemeAMSynth9 != -1 && p_musicAssignBuffer(p_pamThemeAMSynth9, 5)) p_musicChannelOn(false, 5);
			break;
		};

		p_pamThemeIteration = (p_pamThemeIteration + 1) % 9;
	}
}

static void p_playThemeSuspense()
{
	p_suspenseClarinetD = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_CLARINETD);
	p_suspenseClarinetE = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_CLARINETE);
	p_suspenseClarinetF = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_CLARINETF);
	p_suspenseClarinetG = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_CLARINETG);

	p_suspensePercussA = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSA);
	p_suspensePercussB = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSB);
	p_suspensePercussC = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSC);
	p_suspensePercussD = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSD);
	p_suspensePercussE = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSE);
	p_suspensePercussF = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSF);
	p_suspensePercussG = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PERCUSSG);

	p_suspensePianoA = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOA);
	p_suspensePianoC = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOC);
	p_suspensePianoD = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOD);
	p_suspensePianoE = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOE);
	p_suspensePianoF = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOF);
	p_suspensePianoG = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_PIANOG);

	p_suspenseViolinA = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLINA);
	p_suspenseViolinB = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLINB);
	p_suspenseViolinC = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLINC);
	p_suspenseViolinD = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLIND);
	p_suspenseViolinE = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLINE);
	p_suspenseViolinF = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLINF);
	p_suspenseViolinG = p_preloadMusicFile(MM_COMMON_MUSICPATH_SUSPENSE_VIOLING);

	if(p_suspensePercussA != -1 && p_musicAssignBuffer(p_suspensePercussA, 0)) p_musicChannelOn(false, 0);
	if(p_suspensePianoA != -1 && p_musicAssignBuffer(p_suspensePianoA, 1)) p_musicChannelOn(false, 1);
	if(p_suspenseViolinA != -1 && p_musicAssignBuffer(p_suspenseViolinA, 2)) p_musicChannelOn(false, 2);

	p_suspenseIt = 0;
}

static void p_updateSuspenseTheme()
{
	if(!PLEX_isSoundPlaying(0))
	{
		size_t phase = 0;

		++p_suspenseIt;

		if(p_suspenseIt < 3) phase = p_suspenseIt;
		else if(p_suspenseIt < 4) phase = 3;
		else if(p_suspenseIt < 7) phase = 4;
		else if(p_suspenseIt == 7) phase = 5;
		else if(p_suspenseIt < 10) phase = 3;
		else if(p_suspenseIt < 12) phase = 4;
		else if(p_suspenseIt == 12)
		{
			phase = 6;
			p_suspenseIt = 2;
		}

		p_musicChannelOff(1);
		p_musicChannelOff(2);
		p_musicChannelOff(3);

		switch(phase)
		{
			// should not ever be 0

			case 1:
				if(p_suspensePercussB != -1 && p_musicAssignBuffer(p_suspensePercussB, 0)) p_musicChannelOn(false, 0);
				if(p_suspenseViolinB != -1 && p_musicAssignBuffer(p_suspenseViolinB, 1)) p_musicChannelOn(false, 1);
			break;

			case 2:
				if(p_suspensePercussC != -1 && p_musicAssignBuffer(p_suspensePercussC, 0)) p_musicChannelOn(false, 0);
				if(p_suspensePianoC != -1 && p_musicAssignBuffer(p_suspensePianoC, 1)) p_musicChannelOn(false, 1);
				if(p_suspenseViolinC != -1 && p_musicAssignBuffer(p_suspenseViolinC, 2)) p_musicChannelOn(false, 2);
			break;

			case 3:
				if(p_suspensePercussD != -1 && p_musicAssignBuffer(p_suspensePercussD, 0)) p_musicChannelOn(false, 0);
				if(p_suspensePianoD != -1 && p_musicAssignBuffer(p_suspensePianoD, 1)) p_musicChannelOn(false, 1);
				if(p_suspenseViolinD != -1 && p_musicAssignBuffer(p_suspenseViolinD, 2)) p_musicChannelOn(false, 2);
				if(p_suspenseClarinetD != -1 && p_musicAssignBuffer(p_suspenseClarinetD, 3)) p_musicChannelOn(false, 3);
			break;

			case 4:
				if(p_suspensePercussE != -1 && p_musicAssignBuffer(p_suspensePercussE, 0)) p_musicChannelOn(false, 0);
				if(p_suspensePianoE != -1 && p_musicAssignBuffer(p_suspensePianoE, 1)) p_musicChannelOn(false, 1);
				if(p_suspenseViolinE != -1 && p_musicAssignBuffer(p_suspenseViolinE, 2)) p_musicChannelOn(false, 2);
				if(p_suspenseClarinetE != -1 && p_musicAssignBuffer(p_suspenseClarinetE, 3)) p_musicChannelOn(false, 3);
			break;

			case 5:
				if(p_suspensePercussF != -1 && p_musicAssignBuffer(p_suspensePercussF, 0)) p_musicChannelOn(false, 0);
				if(p_suspensePianoF != -1 && p_musicAssignBuffer(p_suspensePianoF, 1)) p_musicChannelOn(false, 1);
				if(p_suspenseViolinF != -1 && p_musicAssignBuffer(p_suspenseViolinF, 2)) p_musicChannelOn(false, 2);
				if(p_suspenseClarinetF != -1 && p_musicAssignBuffer(p_suspenseClarinetF, 3)) p_musicChannelOn(false, 3);
			break;

			case 6:
				if(p_suspensePercussF != -1 && p_musicAssignBuffer(p_suspensePercussG, 0)) p_musicChannelOn(false, 0);
				if(p_suspensePianoF != -1 && p_musicAssignBuffer(p_suspensePianoG, 1)) p_musicChannelOn(false, 1);
				if(p_suspenseViolinF != -1 && p_musicAssignBuffer(p_suspenseViolinG, 2)) p_musicChannelOn(false, 2);
				if(p_suspenseClarinetG != -1 && p_musicAssignBuffer(p_suspenseClarinetG, 3)) p_musicChannelOn(false, 3);
			break;
		}
	}
}

static void p_playThemeDayToDay()
{
	p_dayToDayDrum0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_DRUM0);
	p_dayToDayDrum1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_DRUM1);

	p_dayToDayMonosynth0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_MONOSYNTH0);
	p_dayToDayMonosynth1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_MONOSYNTH1);

	p_dayToDayOrganA0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANA0);
	p_dayToDayOrganA1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANA1);
	p_dayToDayOrganA2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANA2);

	p_dayToDayOrganB0 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANB0);
	p_dayToDayOrganB1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANB1);
	p_dayToDayOrganB2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_DAYTODAY_ORGANB2);

	if(p_dayToDayDrum0 != -1 && p_musicAssignBuffer(p_dayToDayDrum0, 0)) p_musicChannelOn(false, 0);

	p_dayToDayIt = 0;
}

static void p_updateThemeDayToDay()
{
	switch(p_dayToDayIt)
	{
		case 0:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);

				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayMonosynth0 != -1 && p_musicAssignBuffer(p_dayToDayMonosynth0, 1)) p_musicChannelOn(false, 1);
				if(p_dayToDayOrganA0 != -1 && p_musicAssignBuffer(p_dayToDayOrganA0, 1)) p_musicChannelOn(false, 1);

				++p_dayToDayIt;
			}
		break;

		case 1:
		case 3:
		case 5:
		case 7:
		case 9:
		case 11:
		case 13:
		case 15:
		case 17:
		case 20:
		case 21:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);
				p_musicChannelOff(3);

				if(p_dayToDayDrum0 != -1 && p_musicAssignBuffer(p_dayToDayDrum0, 0)) p_musicChannelOn(false, 0);

				++p_dayToDayIt;

				if(p_dayToDayIt == 22) p_dayToDayIt = 0;
			}
		break;

		case 2:
		case 4:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);

				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 0)) p_musicChannelOn(false, 0);

				++p_dayToDayIt;
			}
		break;


		case 6:
		case 8:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);

				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayMonosynth1 != -1 && p_musicAssignBuffer(p_dayToDayMonosynth1, 1)) p_musicChannelOn(true, 1);

				++p_dayToDayIt;
			}
		break;

		case 10:
		case 12:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);

				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayMonosynth1 != -1 && p_musicAssignBuffer(p_dayToDayMonosynth1, 1)) p_musicChannelOn(true, 1);
				if(p_dayToDayOrganA0 != -1 && p_musicAssignBuffer(p_dayToDayOrganA0, 2)) p_musicChannelOn(true, 2);

				++p_dayToDayIt;
			}
		break;

		case 14:
		case 16:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);
				p_musicChannelOff(3);

				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayMonosynth1 != -1 && p_musicAssignBuffer(p_dayToDayMonosynth1, 1)) p_musicChannelOn(true, 1);
				if(p_dayToDayOrganA0 != -1 && p_musicAssignBuffer(p_dayToDayOrganA0, 2)) p_musicChannelOn(true, 2);
				if(p_dayToDayOrganB0 != -1 && p_musicAssignBuffer(p_dayToDayOrganB0, 3)) p_musicChannelOn(true, 3);

				++p_dayToDayIt;
			}
		break;


		case 18:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);
				p_musicChannelOff(3);

				if(p_dayToDayOrganA1 != -1 && p_musicAssignBuffer(p_dayToDayOrganA1, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayOrganB1 != -1 && p_musicAssignBuffer(p_dayToDayOrganB1, 1)) p_musicChannelOn(false, 1);

				++p_dayToDayIt;
			}
		break;

		case 19:
			if(!PLEX_isSoundPlaying(0))
			{
				p_musicChannelOff(0);
				p_musicChannelOff(1);
				p_musicChannelOff(2);
				p_musicChannelOff(3);

				if(p_dayToDayOrganA2 != -1 && p_musicAssignBuffer(p_dayToDayOrganA2, 0)) p_musicChannelOn(false, 0);
				if(p_dayToDayOrganB2 != -1 && p_musicAssignBuffer(p_dayToDayOrganB2, 1)) p_musicChannelOn(false, 1);
				if(p_dayToDayDrum1 != -1 && p_musicAssignBuffer(p_dayToDayDrum1, 2)) p_musicChannelOn(true, 2);

				++p_dayToDayIt;
			}
		break;
	};
}

static void p_playDreamTheme()
{
	p_dreamHarpA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPA);
	p_dreamHarpB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPB);
	p_dreamHarpC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPC);
	p_dreamHarpD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPD);
	p_dreamHarpE = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPE);
	p_dreamHarpF = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPF);
	p_dreamHarpG = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPG);
	p_dreamHarpH = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_HARPH);

	p_dreamLoop = p_preloadMusicFile(MM_COMMON_MUSICPATH_DREAM_LOOP);

	if(p_dreamHarpA != -1 && p_musicAssignBuffer(p_dreamHarpA, 0)) p_musicChannelOn(false, 0);
	if(p_dreamLoop != -1 && p_musicAssignBuffer(p_dreamLoop, 1)) p_musicChannelOn(true, 1);

	p_dreamHarpIt = 0;
}

static void p_updateDreamTheme()
{
	if(!PLEX_isSoundPlaying(0))
	{
		size_t index = 0;

		++p_dreamHarpIt;

		index = p_dreamHarpIt < 8 ? p_dreamHarpIt : PLEX_randomNumber(0, 7);

		switch(index)
		{
			case 0: if(p_dreamHarpA != -1 && p_musicAssignBuffer(p_dreamHarpA, 0)) p_musicChannelOn(false, 0); break;
			case 1: if(p_dreamHarpB != -1 && p_musicAssignBuffer(p_dreamHarpB, 0)) p_musicChannelOn(false, 0); break;
			case 2: if(p_dreamHarpC != -1 && p_musicAssignBuffer(p_dreamHarpC, 0)) p_musicChannelOn(false, 0); break;
			case 3: if(p_dreamHarpD != -1 && p_musicAssignBuffer(p_dreamHarpD, 0)) p_musicChannelOn(false, 0); break;
			case 4: if(p_dreamHarpE != -1 && p_musicAssignBuffer(p_dreamHarpE, 0)) p_musicChannelOn(false, 0); break;
			case 5: if(p_dreamHarpF != -1 && p_musicAssignBuffer(p_dreamHarpF, 0)) p_musicChannelOn(false, 0); break;
			case 6: if(p_dreamHarpG != -1 && p_musicAssignBuffer(p_dreamHarpG, 0)) p_musicChannelOn(false, 0); break;
			default: if(p_dreamHarpH != -1 && p_musicAssignBuffer(p_dreamHarpH, 0)) p_musicChannelOn(false, 0); break;
		};
	}
}

static void p_playThemeDesertWinds()
{
	p_desertWindsBellsA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTWINDS_BELL0);
	p_desertWindsBellsB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTWINDS_BELL1);
	p_desertWindsGuitar = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTWINDS_GUITAR);
	p_desertWindsWhistle = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTWINDS_TRAINWHISTLE);

	if(p_desertWindsBellsA != -1 && p_musicAssignBuffer(p_desertWindsBellsA, 0)) p_musicChannelOn(false, 0);
	if(p_desertWindsGuitar != -1 && p_musicAssignBuffer(p_desertWindsGuitar, 1)) p_musicChannelOn(false, 1);

	p_desertWindsIntro = false;

	p_desertWindsWhistleRep = 0;
	p_desertWindsSoundRep = 0;
	p_desertWindsWhistleMark = 0;
	p_desertWindsWhistleDuration = 0;
	p_desertWindsWhistleIt = 0;
	p_desertWindsSoundIt = 0;
}

static void p_updateThemeDesertWinds(const uint64_t time)
{
	if(!PLEX_isSoundPlaying(1) && !p_desertWindsIntro)
	{
		if(p_desertWindsBellsB != -1 && p_musicAssignBuffer(p_desertWindsBellsB, 0)) p_musicChannelOn(false, 0);
		if(p_desertWindsWhistle != -1 && p_musicAssignBuffer(p_desertWindsWhistle, 1)) p_musicChannelOn(false, 1);

		p_desertWindsWhistleRep = PLEX_randomNumber(2, 4);
		p_desertWindsSoundRep = PLEX_randomNumber(3, 5);
		p_desertWindsWhistleMark = time;
		p_desertWindsWhistleDuration = PLEX_randomNumber(2000, 15000);
		p_desertWindsWhistleIt = 0;
		p_desertWindsSoundIt = 0;

		p_desertWindsIntro = true;
	}else{
		if(p_desertWindsWhistleMark && time - p_desertWindsWhistleMark > p_desertWindsWhistleDuration)
		{
			p_musicChannelOff(2);

			if(p_desertWindsSoundIt < p_desertWindsSoundRep)
			{
				const size_t buffer = PLEX_LIMIT_SOUNDCHANNELS - PLEX_LIMIT_SOUNDEFFECTS - 1;

				const size_t index = PLEX_randomNumber(0, 11);

				const double volume = PLEX_randomNumber(0.2, 1);

				PLEX_clearSoundBuffer(buffer);

				p_preloadMusicFileToSpecificBuffer(p_desertWindsAtmosphere[index], buffer);

				p_musicAssignBuffer(buffer, 2);
				PLEX_setVolume(volume, 2);
				p_musicChannelOn(false, 2);

				++p_desertWindsSoundIt;
			}else{
				if(p_desertWindsWhistleIt < p_desertWindsSoundIt)
				{
					if(p_desertWindsWhistleIt % 2 == 1 && p_desertWindsBellsB != -1 && p_musicAssignBuffer(p_desertWindsBellsB, 0)) p_musicChannelOn(false, 0);

					if(p_desertWindsWhistle != -1 && p_musicAssignBuffer(p_desertWindsWhistle, 1)) p_musicChannelOn(false, 1);

					p_desertWindsSoundIt = 0;
					p_desertWindsSoundRep = PLEX_randomNumber(3, 5);

					++p_desertWindsWhistleIt;
				}else{
					p_musicChannelOff(0);
					p_musicChannelOff(1);

					if(p_desertWindsBellsA != -1 && p_musicAssignBuffer(p_desertWindsBellsA, 0)) p_musicChannelOn(false, 0);
					if(p_desertWindsGuitar != -1 && p_musicAssignBuffer(p_desertWindsGuitar, 1)) p_musicChannelOn(false, 1);

					p_desertWindsIntro = false;
					p_desertWindsWhistleMark = 0;
					p_desertWindsWhistleRep = PLEX_randomNumber(2, 4);
					p_desertWindsSoundRep = PLEX_randomNumber(3, 5);
					p_desertWindsWhistleIt = 0;
					p_desertWindsSoundIt = 0;
				}
			}

			p_desertWindsWhistleMark = time;
			p_desertWindsWhistleDuration = PLEX_randomNumber(2000, 15000);
		}
	}
}

static void p_playThemeDesertTown()
{
	p_desertTownHarpA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARPA);
	p_desertTownHarpB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARPB);
	p_desertTownHarpC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARPC);
	p_desertTownHarpD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARPD);

	p_desertTownOrganA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_ORGANA);
	p_desertTownOrganB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_ORGANB);
	p_desertTownOrganC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_ORGANC);
	p_desertTownOrganD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_ORGAND);

	p_desertTownPianoA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_PIANOA);
	p_desertTownPianoB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_PIANOB);
	p_desertTownPianoC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_PIANOC);
	p_desertTownPianoD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_PIANOD);

	p_desertTownGuitarA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_GUITARA);
	p_desertTownGuitarB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_GUITARB);
	p_desertTownGuitarC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_GUITARC);
	p_desertTownGuitarD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_GUITARD);

	p_desertTownHarmonicaA = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARMONICAA);
	p_desertTownHarmonicaB = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARMONICAB);
	p_desertTownHarmonicaC = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARMONICAC);
	p_desertTownHarmonicaD = p_preloadMusicFile(MM_COMMON_MUSICPATH_DESERTTOWN_HARMONICAD);

	if(p_desertTownHarpA != -1 && p_musicAssignBuffer(p_desertTownHarpA, 0)) p_musicChannelOn(false, 0);
	if(p_desertTownOrganA != -1 && p_musicAssignBuffer(p_desertTownOrganA, 1)) p_musicChannelOn(false, 1);
	if(p_desertTownPianoA != -1 && p_musicAssignBuffer(p_desertTownPianoA, 2)) p_musicChannelOn(false, 2);

	p_desertTownIterations = 1;
	p_desertTownPart = 0;
	p_desertTownPartIterations = 1;
}

static void p_updateDesertTown()
{
	if(!PLEX_isSoundPlaying(0))
	{
		p_musicChannelOff(0);
		p_musicChannelOff(1);
		p_musicChannelOff(2);
		p_musicChannelOff(3);
		p_musicChannelOff(4);

		switch(p_desertTownPart)
		{
			case 0:
				if(p_desertTownHarpA != -1 && p_musicAssignBuffer(p_desertTownHarpA, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganA != -1 && p_musicAssignBuffer(p_desertTownOrganA, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoA != -1 && p_musicAssignBuffer(p_desertTownPianoA, 2)) p_musicChannelOn(false, 2);
			break;

			case 1:
				if(p_desertTownHarpB != -1 && p_musicAssignBuffer(p_desertTownHarpB, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganB != -1 && p_musicAssignBuffer(p_desertTownOrganB, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoB != -1 && p_musicAssignBuffer(p_desertTownPianoB, 2)) p_musicChannelOn(false, 2);
			break;

			case 2:
				if(p_desertTownHarpC != -1 && p_musicAssignBuffer(p_desertTownHarpC, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganC != -1 && p_musicAssignBuffer(p_desertTownOrganC, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoC != -1 && p_musicAssignBuffer(p_desertTownPianoC, 2)) p_musicChannelOn(false, 2);
			break;

			case 3:
				if(p_desertTownHarpD != -1 && p_musicAssignBuffer(p_desertTownHarpD, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganD != -1 && p_musicAssignBuffer(p_desertTownOrganD, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoD != -1 && p_musicAssignBuffer(p_desertTownPianoD, 2)) p_musicChannelOn(false, 2);
				if(p_desertTownHarmonicaD != -1 && p_musicAssignBuffer(p_desertTownHarmonicaD, 3)) p_musicChannelOn(false, 3);
			break;

			case 4:
				if(p_desertTownHarpA != -1 && p_musicAssignBuffer(p_desertTownHarpA, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganA != -1 && p_musicAssignBuffer(p_desertTownOrganA, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoA != -1 && p_musicAssignBuffer(p_desertTownPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_desertTownHarmonicaA != -1 && p_musicAssignBuffer(p_desertTownHarmonicaA, 3)) p_musicChannelOn(false, 3);
				if(p_desertTownGuitarA != -1 && p_musicAssignBuffer(p_desertTownGuitarA, 4)) p_musicChannelOn(false, 4);
			break;

			case 5:
				if(p_desertTownHarpB != -1 && p_musicAssignBuffer(p_desertTownHarpB, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganB != -1 && p_musicAssignBuffer(p_desertTownOrganB, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoB != -1 && p_musicAssignBuffer(p_desertTownPianoB, 2)) p_musicChannelOn(false, 2);
				if(p_desertTownHarmonicaB != -1 && p_musicAssignBuffer(p_desertTownHarmonicaB, 3)) p_musicChannelOn(false, 3);
				if(p_desertTownGuitarB != -1 && p_musicAssignBuffer(p_desertTownGuitarB, 4)) p_musicChannelOn(false, 4);
			break;

			case 6:
				if(p_desertTownHarpC != -1 && p_musicAssignBuffer(p_desertTownHarpC, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganC != -1 && p_musicAssignBuffer(p_desertTownOrganC, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoC != -1 && p_musicAssignBuffer(p_desertTownPianoC, 2)) p_musicChannelOn(false, 2);
				if(p_desertTownHarmonicaC != -1 && p_musicAssignBuffer(p_desertTownHarmonicaC, 3)) p_musicChannelOn(false, 3);
				if(p_desertTownGuitarC != -1 && p_musicAssignBuffer(p_desertTownGuitarC, 4)) p_musicChannelOn(false, 4);
			break;

			case 7:
				if(p_desertTownHarpD != -1 && p_musicAssignBuffer(p_desertTownHarpD, 0)) p_musicChannelOn(false, 0);
				if(p_desertTownOrganD != -1 && p_musicAssignBuffer(p_desertTownOrganD, 1)) p_musicChannelOn(false, 1);
				if(p_desertTownPianoD != -1 && p_musicAssignBuffer(p_desertTownPianoD, 2)) p_musicChannelOn(false, 2);
				if(p_desertTownHarmonicaD != -1 && p_musicAssignBuffer(p_desertTownHarmonicaD, 3)) p_musicChannelOn(false, 3);
				if(p_desertTownGuitarD != -1 && p_musicAssignBuffer(p_desertTownGuitarD, 4)) p_musicChannelOn(false, 4);
			break;
		}

		++p_desertTownIterations;
	}

	if(p_desertTownIterations >= p_desertTownPartIterations)
	{
		p_desertTownPart = (p_desertTownPart + 1) % 8;

		switch(p_desertTownPart)
		{
			case 0:
			case 1:
			case 2:
			case 4:
			case 5:
			case 6:
				p_desertTownPartIterations = 1;
			break;

			case 3:
			case 7:
				p_desertTownPartIterations = PLEX_randomNumber(2, 8);
			break;
		};

		p_desertTownIterations = 0;
	}
}

static void p_playThemeAggression()
{
	p_aggressionDrums = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_DRUMS);
	p_aggressionOrgan1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_ORGAN1);
	p_aggressionOrgan2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_ORGAN2);
	p_aggressionCelloHarspi = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_CELLOHARPSI);
	p_aggressionAMSynth1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH1);
	p_aggressionAMSynth2A = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2A);
	p_aggressionAMSynth2B = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2B);
	p_aggressionAMSynth2C = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2C);
	p_aggressionAMSynth2D = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2D);
	p_aggressionAMSynth2E = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2E);
	p_aggressionAMSynth2F = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2F);
	p_aggressionAMSynth2G = p_preloadMusicFile(MM_COMMON_MUSICPATH_AGGRESSION_AMSYNTH2G);

	if(p_aggressionDrums != -1 && p_musicAssignBuffer(p_aggressionDrums, 0)) p_musicChannelOn(false, 0);

	p_aggressionIterations = 0;
}

static void p_updateThemeAggression()
{
	if(!PLEX_isSoundPlaying(0))
	{
		const size_t songMid = p_aggressionIterations % 4;

		p_musicChannelOff(0);
		p_musicChannelOff(1);
		p_musicChannelOff(2);
		p_musicChannelOff(3);
		p_musicChannelOff(4);
		p_musicChannelOff(5);

		if(p_aggressionDrums != -1 && p_musicAssignBuffer(p_aggressionDrums, 0)) p_musicChannelOn(false, 0);

		if(p_aggressionIterations > 0)
		{
			if(p_aggressionOrgan1 != -1 && p_musicAssignBuffer(p_aggressionOrgan1, 1)) p_musicChannelOn(false, 1);
			if(p_aggressionOrgan2 != -1 && p_musicAssignBuffer(p_aggressionOrgan2, 2)) p_musicChannelOn(false, 2);
			if(p_aggressionAMSynth1 != -1 && p_musicAssignBuffer(p_aggressionAMSynth1, 3)) p_musicChannelOn(false, 3);
		}

		if(songMid > 1)
		{
			if(p_aggressionCelloHarspi != -1 && p_musicAssignBuffer(p_aggressionCelloHarspi, 4)) p_musicChannelOn(false, 4);
		}

		if(p_aggressionIterations == 3 || p_aggressionIterations == 5)
		{
			const size_t choice = PLEX_randomNumber(0, 6);

			switch(choice)
			{
				case 0:
					if(p_aggressionAMSynth2A != -1 && p_musicAssignBuffer(p_aggressionAMSynth2A, 5)) p_musicChannelOn(false, 5);
				break;

				case 1:
					if(p_aggressionAMSynth2B != -1 && p_musicAssignBuffer(p_aggressionAMSynth2B, 5)) p_musicChannelOn(false, 5);
				break;

				case 2:
					if(p_aggressionAMSynth2D != -1 && p_musicAssignBuffer(p_aggressionAMSynth2C, 5)) p_musicChannelOn(false, 5);
				break;

				case 3:
					if(p_aggressionAMSynth2D != -1 && p_musicAssignBuffer(p_aggressionAMSynth2D, 5)) p_musicChannelOn(false, 5);
				break;

				case 4:
					if(p_aggressionAMSynth2E != -1 && p_musicAssignBuffer(p_aggressionAMSynth2E, 5)) p_musicChannelOn(false, 5);
				break;

				case 5:
					if(p_aggressionAMSynth2F != -1 && p_musicAssignBuffer(p_aggressionAMSynth2F, 5)) p_musicChannelOn(false, 5);
				break;

				default:
					if(p_aggressionAMSynth2G != -1 && p_musicAssignBuffer(p_aggressionAMSynth2G, 5)) p_musicChannelOn(false, 5);
			};
		}

		p_aggressionIterations = (p_aggressionIterations + 1) % 6;
	}
}

static void p_playThemeWorkday()
{
	p_workdayDrums = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_DRUMS);
	p_workdayPianoA = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_PIANOA);
	p_workdayPianoB = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_PIANOB);
	p_workdayBassoonA = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_BASSOONA);
	p_workdayBassoonB = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_BASSOONB);
	p_workdayBassoonC = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_BASSOONC);
	p_workdayGlockandXyloA = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_GLOCKANDXYLOA);
	p_workdayGlockandXyloB = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_GLOCKANDXYLOB);
	p_workdayGlockandXyloC = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_GLOCKANDXYLOC);
	p_workdayTubaSaxCelloA = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_TUBASAXCELLOA);
	p_workdayTubaSaxCelloB = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_TUBASAXCELLOB);
	p_workdayTubaSaxCelloC = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_TUBASAXCELLOC);

	p_workdayOcarinaA = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_OCARINAA);
	p_workdayOcarinaB = p_preloadMusicFile(MM_COMMON_MUSICPATH_WORKDAY_OCARINAB);

	PLEX_setVolume(p_workdayVolume, 0);
	PLEX_setVolume(p_workdayVolume, 1);
	PLEX_setVolume(p_workdayVolume, 2);
	PLEX_setVolume(p_workdayVolume, 3);
	PLEX_setVolume(p_workdayVolume, 4);

	if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
	if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 1)) p_musicChannelOn(false, 1);

	p_workdayIt = 0;
	p_workdayVolume = 0.8;
}

static void p_updateThemeWorkday()
{
	if(!PLEX_isSoundPlaying(0))
	{
		if(p_workdayIt < 6)
		{
			p_musicChannelOff(0);
			p_musicChannelOff(1);
			p_musicChannelOff(2);
			p_musicChannelOff(3);
			p_musicChannelOff(4);
			// p_musicChannelOff(5); < do not do
		}

		PLEX_setVolume(p_workdayVolume, 0);
		PLEX_setVolume(p_workdayVolume, 1);
		PLEX_setVolume(p_workdayVolume, 2);
		PLEX_setVolume(p_workdayVolume, 3);
		PLEX_setVolume(p_workdayVolume, 4);

		switch(p_workdayIt)
		{
			case 0:
				if(p_workdayGlockandXyloA != -1 && p_musicAssignBuffer(p_workdayGlockandXyloA, 0)) p_musicChannelOn(false, 0);
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 1)) p_musicChannelOn(true, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(true, 2);
				++p_workdayIt;
			break;


			case 1:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				++p_workdayIt;
			break;

			case 2:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonA != -1 && p_musicAssignBuffer(p_workdayBassoonA, 3)) p_musicChannelOn(false, 3);
				++p_workdayIt;
			break;


			case 3:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonB != -1 && p_musicAssignBuffer(p_workdayBassoonB, 3)) p_musicChannelOn(false, 3);
				++p_workdayIt;
			break;

			case 4:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonA != -1 && p_musicAssignBuffer(p_workdayBassoonA, 3)) p_musicChannelOn(false, 3);
				if(p_workdayTubaSaxCelloA != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloA, 4)) p_musicChannelOn(false, 4);
				++p_workdayIt;
			break;

			case 5:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonB != -1 && p_musicAssignBuffer(p_workdayBassoonB, 3)) p_musicChannelOn(false, 3);
				if(p_workdayTubaSaxCelloB != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloB, 4)) p_musicChannelOn(false, 4);

				p_workdayVolume += PLEX_randomNumber(0.01, 0.02);

				if(p_workdayVolume > 1)
				{
					p_workdayVolume = 1;
					++p_workdayIt;
				}else p_workdayIt = 4;
			break;

			case 6:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonB != -1 && p_musicAssignBuffer(p_workdayBassoonB, 3)) p_musicChannelOn(false, 3);
				if(p_workdayTubaSaxCelloB != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloB, 4)) p_musicChannelOn(false, 4);

				if(p_workdayOcarinaA != -1 && p_musicAssignBuffer(p_workdayOcarinaA, 5)) p_musicChannelOn(false, 5);

				++p_workdayIt;
			break;

			case 7:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonA != -1 && p_musicAssignBuffer(p_workdayBassoonA, 3)) p_musicChannelOn(false, 3);
				if(p_workdayTubaSaxCelloA != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloA, 4)) p_musicChannelOn(false, 4);
				++p_workdayIt;
			break;

			case 8:
				if(p_workdayDrums != -1 && p_musicAssignBuffer(p_workdayDrums, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloB != -1 && p_musicAssignBuffer(p_workdayGlockandXyloB, 1)) p_musicChannelOn(false, 1);
				if(p_workdayPianoA != -1 && p_musicAssignBuffer(p_workdayPianoA, 2)) p_musicChannelOn(false, 2);
				if(p_workdayBassoonB != -1 && p_musicAssignBuffer(p_workdayBassoonB, 3)) p_musicChannelOn(false, 3);
				if(p_workdayTubaSaxCelloB != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloB, 4)) p_musicChannelOn(false, 4);
				++p_workdayIt;
			break;

			case 9:
				if(!PLEX_isSoundPlaying(5)) ++p_workdayIt;
			break;

			case 10:
				if(p_workdayPianoB != -1 && p_musicAssignBuffer(p_workdayPianoB, 0)) p_musicChannelOn(false, 0);
				if(p_workdayGlockandXyloC != -1 && p_musicAssignBuffer(p_workdayGlockandXyloC, 1)) p_musicChannelOn(false, 1);
				if(p_workdayBassoonC != -1 && p_musicAssignBuffer(p_workdayBassoonC, 1)) p_musicChannelOn(false, 1);
				if(p_workdayTubaSaxCelloC != -1 && p_musicAssignBuffer(p_workdayTubaSaxCelloC, 2)) p_musicChannelOn(false, 2);
				if(p_workdayOcarinaB != -1 && p_musicAssignBuffer(p_workdayOcarinaB, 3)) p_musicChannelOn(false, 3);

				p_workdayIt = 0;
				p_workdayVolume = 0.5;
			break;
		};
	}
}

static void p_playThemeFear()
{
	p_fearAmsynthA = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHA);
	p_fearAmsynthB = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHB);
	p_fearAmsynthC = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHC);
	p_fearAmsynthD = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHD);
	p_fearAmsynthE = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHE);
	p_fearAmsynthF = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHF);
	p_fearAmsynthG = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHG);
	p_fearAmsynthH = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHH);
	p_fearAmsynthI = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHI);
	p_fearAmsynthJ = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_AMSYNTHJ);

	p_fearOrganA = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANA);
	p_fearOrganB = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANB);
	p_fearOrganC = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANC);
	p_fearOrganD = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGAND);
	p_fearOrganE = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANE);
	p_fearOrganF = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANF);
	p_fearOrganG = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANG);
	p_fearOrganH = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANH);
	p_fearOrganI = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANI);
	p_fearOrganJ = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_ORGANJ);

	p_fearHarpA = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPA);
	p_fearHarpB = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPB);
	p_fearHarpC = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPC);
	p_fearHarpD = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPD);
	p_fearHarpE = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPE);
	p_fearHarpF = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPF);
	p_fearHarpG = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPG);
	p_fearHarpH = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPH);
	p_fearHarpI = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPI);
	p_fearHarpJ = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_HARPJ);

	p_fearViolinA = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINA);
	p_fearViolinB = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINB);
	p_fearViolinC = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINC);
	p_fearViolinD = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLIND);
	p_fearViolinE = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINE);
	p_fearViolinF = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINF);
	p_fearViolinG = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLING);
	p_fearViolinH = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINH);
	p_fearViolinI = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINI);
	p_fearViolinJ = p_preloadMusicFile(MM_COMMON_MUSICPATH_FEAR_VIOLINJ);

	if(p_fearAmsynthA != -1 && p_musicAssignBuffer(p_fearAmsynthA, 0)) p_musicChannelOn(false, 0);
	if(p_fearOrganA != -1 && p_musicAssignBuffer(p_fearOrganA, 1)) p_musicChannelOn(false, 1);
	if(p_fearHarpA != -1 && p_musicAssignBuffer(p_fearHarpA, 2)) p_musicChannelOn(false, 2);
	if(p_fearViolinA != -1 && p_musicAssignBuffer(p_fearViolinA, 3)) p_musicChannelOn(false, 3);

	p_fearBufferList[0] = p_fearAmsynthA;
	p_fearBufferList[1] = p_fearAmsynthB;
	p_fearBufferList[2] = p_fearAmsynthC;
	p_fearBufferList[3] = p_fearAmsynthD;
	p_fearBufferList[4] = p_fearAmsynthE;
	p_fearBufferList[5] = p_fearAmsynthF;
	p_fearBufferList[6] = p_fearAmsynthG;
	p_fearBufferList[7] = p_fearAmsynthH;
	p_fearBufferList[8] = p_fearAmsynthI;
	p_fearBufferList[9] = p_fearAmsynthJ;

	p_fearBufferList[10] = p_fearOrganA;
	p_fearBufferList[11] = p_fearOrganB;
	p_fearBufferList[12] = p_fearOrganC;
	p_fearBufferList[13] = p_fearOrganD;
	p_fearBufferList[14] = p_fearOrganE;
	p_fearBufferList[15] = p_fearOrganF;
	p_fearBufferList[16] = p_fearOrganG;
	p_fearBufferList[17] = p_fearOrganH;
	p_fearBufferList[18] = p_fearOrganI;
	p_fearBufferList[19] = p_fearOrganJ;

	p_fearBufferList[20] = p_fearHarpA;
	p_fearBufferList[21] = p_fearHarpB;
	p_fearBufferList[22] = p_fearHarpC;
	p_fearBufferList[23] = p_fearHarpD;
	p_fearBufferList[24] = p_fearHarpE;
	p_fearBufferList[25] = p_fearHarpF;
	p_fearBufferList[26] = p_fearHarpG;
	p_fearBufferList[27] = p_fearHarpH;
	p_fearBufferList[28] = p_fearHarpI;
	p_fearBufferList[29] = p_fearHarpJ;

	p_fearBufferList[30] = p_fearViolinA;
	p_fearBufferList[31] = p_fearViolinB;
	p_fearBufferList[32] = p_fearViolinC;
	p_fearBufferList[33] = p_fearViolinD;
	p_fearBufferList[34] = p_fearViolinE;
	p_fearBufferList[35] = p_fearViolinF;
	p_fearBufferList[36] = p_fearViolinG;
	p_fearBufferList[37] = p_fearViolinH;
	p_fearBufferList[38] = p_fearViolinI;
	p_fearBufferList[39] = p_fearViolinJ;

	p_fearIt = 1;
}

static void p_updateThemeFear()
{
	if(!PLEX_isSoundPlaying(0))
	{
		p_musicChannelOff(0);
		p_musicChannelOff(1);
		p_musicChannelOff(2);
		p_musicChannelOff(3);

		switch(p_fearIt)
		{
			case 0:
				if(p_fearAmsynthA != -1 && p_musicAssignBuffer(p_fearAmsynthA, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganA != -1 && p_musicAssignBuffer(p_fearOrganA, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpA != -1 && p_musicAssignBuffer(p_fearHarpA, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinA != -1 && p_musicAssignBuffer(p_fearViolinA, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 1:
				if(p_fearAmsynthB != -1 && p_musicAssignBuffer(p_fearAmsynthB, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganB != -1 && p_musicAssignBuffer(p_fearOrganB, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpB != -1 && p_musicAssignBuffer(p_fearHarpB, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinB != -1 && p_musicAssignBuffer(p_fearViolinB, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 2:
				if(p_fearAmsynthC != -1 && p_musicAssignBuffer(p_fearAmsynthC, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganC != -1 && p_musicAssignBuffer(p_fearOrganC, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpC != -1 && p_musicAssignBuffer(p_fearHarpC, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinC != -1 && p_musicAssignBuffer(p_fearViolinC, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 3:
				if(p_fearAmsynthD != -1 && p_musicAssignBuffer(p_fearAmsynthD, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganD != -1 && p_musicAssignBuffer(p_fearOrganD, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpD != -1 && p_musicAssignBuffer(p_fearHarpD, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinD != -1 && p_musicAssignBuffer(p_fearViolinD, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 4:
				if(p_fearAmsynthE != -1 && p_musicAssignBuffer(p_fearAmsynthE, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganE != -1 && p_musicAssignBuffer(p_fearOrganE, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpE != -1 && p_musicAssignBuffer(p_fearHarpE, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinE != -1 && p_musicAssignBuffer(p_fearViolinE, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 5:
				if(p_fearAmsynthF != -1 && p_musicAssignBuffer(p_fearAmsynthF, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganF != -1 && p_musicAssignBuffer(p_fearOrganF, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpF != -1 && p_musicAssignBuffer(p_fearHarpF, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinF != -1 && p_musicAssignBuffer(p_fearViolinF, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 6:
				if(p_fearAmsynthG != -1 && p_musicAssignBuffer(p_fearAmsynthG, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganG != -1 && p_musicAssignBuffer(p_fearOrganG, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpG != -1 && p_musicAssignBuffer(p_fearHarpG, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinG != -1 && p_musicAssignBuffer(p_fearViolinG, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 7:
				if(p_fearAmsynthH != -1 && p_musicAssignBuffer(p_fearAmsynthH, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganH != -1 && p_musicAssignBuffer(p_fearOrganH, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpH != -1 && p_musicAssignBuffer(p_fearHarpH, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinH != -1 && p_musicAssignBuffer(p_fearViolinH, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 8:
				if(p_fearAmsynthI != -1 && p_musicAssignBuffer(p_fearAmsynthI, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganI != -1 && p_musicAssignBuffer(p_fearOrganI, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpI != -1 && p_musicAssignBuffer(p_fearHarpI, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinI != -1 && p_musicAssignBuffer(p_fearViolinI, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 9:
				if(p_fearAmsynthJ != -1 && p_musicAssignBuffer(p_fearAmsynthJ, 0)) p_musicChannelOn(false, 0);
				if(p_fearOrganJ != -1 && p_musicAssignBuffer(p_fearOrganJ, 1)) p_musicChannelOn(false, 1);
				if(p_fearHarpJ != -1 && p_musicAssignBuffer(p_fearHarpJ, 2)) p_musicChannelOn(false, 2);
				if(p_fearViolinJ != -1 && p_musicAssignBuffer(p_fearViolinJ, 3)) p_musicChannelOn(false, 3);
				++p_fearIt;
			break;

			case 10:
				for(size_t ze = 0; ze < 40; ++ze)
				{
					const int64_t buffer = p_fearBufferList[ze];

					const double perc = PLEX_randomPercentage();

					if(buffer < 0) continue;

					if(perc >= 0.75) PLEX_soundReverse(buffer, 0, 0.99);
				}

				p_fearIt = PLEX_randomNumber(0, 9);
			break;
		};
	}
}

static void p_playThemePunk()
{
	p_punkGuitar = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_GUITAR);
	p_punkBass = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_BASS);
	p_punkDrums = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_DRUMS);

	p_punkVoxA = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_VOXA);
	p_punkVoxB = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_VOXB);
	p_punkVoxC = p_preloadMusicFile(MM_COMMON_MUSICPATH_PUNK_VOXC);

	if(p_punkGuitar != -1 && p_musicAssignBuffer(p_punkGuitar, 0)) p_musicChannelOn(true, 0);
	if(p_punkBass != -1 && p_musicAssignBuffer(p_punkBass, 1)) p_musicChannelOn(true, 1);
	if(p_punkDrums != -1 && p_musicAssignBuffer(p_punkDrums, 2)) p_musicChannelOn(true, 2);

	p_punkLastIteration = 0;

	// do not set volume full here //
}

static void p_updateThemePunk()
{
	const size_t iteration = PLEX_channelIteration(0) % 7;

	PLEX_setVolume(p_punkVolume, 0);
	PLEX_setVolume(p_punkVolume, 1);
	PLEX_setVolume(p_punkVolume, 2);
	PLEX_setVolume(p_punkVolume, 3);

	if(iteration != p_punkLastIteration)
	{
		p_musicChannelOff(3);

		switch(iteration)
		{
			case 2:
			case 3:
			case 4:
				if(p_punkVoxA != -1 && p_musicAssignBuffer(p_punkVoxA, 3)) p_musicChannelOn(true, 3);
			break;

			case 5: if(p_punkVoxB != -1 && p_musicAssignBuffer(p_punkVoxB, 3)) p_musicChannelOn(true, 3); break;
			case 6: if(p_punkVoxC != -1 && p_musicAssignBuffer(p_punkVoxC, 3)) p_musicChannelOn(true, 3); break;
		};

		p_punkLastIteration = iteration;
	}
}

static void p_playThemeMetal()
{
	p_metalGuitar = p_preloadMusicFile(MM_COMMON_MUSICPATH_METAL_GUITAR);
	p_metalBass = p_preloadMusicFile(MM_COMMON_MUSICPATH_METAL_BASS);
	p_metalDrums = p_preloadMusicFile(MM_COMMON_MUSICPATH_METAL_DRUMS);

	if(p_metalGuitar != -1 && p_musicAssignBuffer(p_metalGuitar, 0)) p_musicChannelOn(true, 0);
	if(p_metalBass != -1 && p_musicAssignBuffer(p_metalBass, 1)) p_musicChannelOn(true, 1);
	if(p_metalDrums != -1 && p_musicAssignBuffer(p_metalDrums, 2)) p_musicChannelOn(true, 2);
}

static void p_updateThemeMetal()
{

}

static void p_strifeVariation0(const size_t iteration)
{
	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	if(p_strifeRight && p_strifeRight != -1 && p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(p_strifeOboe && p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
	if(p_strifeSection > 0 && p_strifeFlute != -1 && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
	if(p_strifeSection > 1 && p_strifeBassoon != -1 && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
	if(p_strifeSection > 2 && p_strifeViolins != -1 && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
}

static void p_strifeVariation1(const size_t iteration)
{
	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	if(iteration < 2 && p_strifeRight != -1 && p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(!iteration)
	{
		if(p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
		if(p_strifeFlute != -1 && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
		if(p_strifeBassoon != -1 && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
		if(p_strifeViolins != -1 && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
	}
}

static void p_strifeVariation2(const size_t iteration)
{
	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	if(iteration > 1 && p_strifeRight != -1 && p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(iteration)
	{
		if(p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
		if(p_strifeFlute != -1 && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
		if(p_strifeBassoon != -1 && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
		if(p_strifeViolins != -1 && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
	}
}

static void p_strifeVariation3(const size_t iteration)
{
	const double sectionVolume = p_strifeSection < 8 ? p_strifeSection/8.0 : 1;

	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	PLEX_setVolume(1 - sectionVolume, 0); // left
	PLEX_setVolume(1 - sectionVolume, 1); // right
	PLEX_setVolume(0.5 + sectionVolume/2.0, 2); // oboe
	PLEX_setVolume(0.5 - sectionVolume/2.0, 3); // flute
	PLEX_setVolume(sectionVolume, 4); // bassoon
	PLEX_setVolume(sectionVolume, 5); // violins

	if(p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
	if(p_strifeFlute != -1 && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
	if(p_strifeBassoon != -1 && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
	if(p_strifeViolins != -1 && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
}

static void p_strifeVariation4(const size_t iteration)
{
	const double sectionVolume = p_strifeSection < 8 ? p_strifeSection/8.0 : 1;

	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	PLEX_setVolume(sectionVolume, 0); // left
	PLEX_setVolume(sectionVolume, 1); // right
	PLEX_setVolume(1 - sectionVolume, 2); // oboe
	PLEX_setVolume(1 - sectionVolume, 3); // flute
	PLEX_setVolume(1 - sectionVolume, 4); // bassoon
	PLEX_setVolume(1 - sectionVolume, 5); // violins

	if(p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
	if(p_strifeFlute != -1  && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
	if(p_strifeBassoon != -1  && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
	if(p_strifeViolins != -1  && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
}

static void p_strifeVariation5(const size_t iteration)
{
	const bool split = p_strifeSection % 2 == 1;

	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	if(!split && p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);

	if(split && p_strifeOboe != -1 && p_musicAssignBuffer(p_strifeOboe, 2)) p_musicChannelOn(false, 2);
	if(split && p_strifeFlute != -1 && p_musicAssignBuffer(p_strifeFlute, 3)) p_musicChannelOn(false, 3);
	if(split && p_strifeBassoon != -1 && p_musicAssignBuffer(p_strifeBassoon, 4)) p_musicChannelOn(false, 4);
	if(split && p_strifeViolins != -1 && p_musicAssignBuffer(p_strifeViolins, 5)) p_musicChannelOn(false, 5);
}

static void p_strifeVariation6(const size_t iteration)
{
	const double sectionVolume = p_strifeSection < 8 ? p_strifeSection/8.0 : 1;

	p_musicChannelOff(1);
	p_musicChannelOff(2);
	p_musicChannelOff(3);
	p_musicChannelOff(4);
	p_musicChannelOff(5);

	PLEX_setVolume(sectionVolume, 1); // right

	if(p_musicAssignBuffer(p_strifeRight, 1)) p_musicChannelOn(false, 1);
}

static void p_updateStrifeVariation(const size_t iteration)
{
	switch(p_strifeVariation)
	{
		case 0: p_strifeVariation0(iteration); break;
		case 1: p_strifeVariation1(iteration); break;
		case 2: p_strifeVariation2(iteration); break;
		case 3: p_strifeVariation3(iteration); break;
		case 4: p_strifeVariation4(iteration); break;
		case 5: p_strifeVariation5(iteration); break;
		case 6: p_strifeVariation6(iteration); break;
	};
}

static void p_setStrifeVariation()
{
	const size_t iteration = p_strifeSection / 2;

	int64_t bufferChord1 = 0;
	int16_t bufferChord2 = 0;
	int16_t bufferChord3 = 0;

	p_strifeVariation = PLEX_randomNumber(0, 6);
	p_strifeTone = PLEX_randomNumber(0, 4);

	p_musicChannelOff(0);

	switch(p_strifeTone)
	{
		case 0:
			bufferChord1 = p_strifeLeftA1;
			bufferChord2 = p_strifeLeftA2;
			bufferChord3 = p_strifeLeftA3;
		break;

		case 1:
			bufferChord1 = p_strifeLeftB1;
			bufferChord2 = p_strifeLeftB2;
			bufferChord3 = p_strifeLeftB3;
		break;

		case 2:
			bufferChord1 = p_strifeLeftC1;
			bufferChord2 = p_strifeLeftC2;
			bufferChord3 = p_strifeLeftC3;
		break;

		case 3:
			bufferChord1 = p_strifeLeftD1;
			bufferChord2 = p_strifeLeftD2;
			bufferChord3 = p_strifeLeftD3;
		break;
	};

	switch(iteration)
	{
		case 0:
			if(bufferChord1 != -1) p_musicAssignBuffer(bufferChord1, 0);
		break;

		case 1:
			if(bufferChord2 != -1) p_musicAssignBuffer(bufferChord2, 0);
		break;

		case 2:
			if(bufferChord3 != -1) p_musicAssignBuffer(bufferChord3, 0);
		break;
	};

	p_musicChannelOn(false, 0);

	p_updateStrifeVariation(iteration);
}

static void p_playThemeStrife()
{
	p_strifeLeftA1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT1A);
	p_strifeLeftB1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT1B);
	p_strifeLeftC1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT1C);
	p_strifeLeftD1 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT1D);

	p_strifeLeftA2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT2A);
	p_strifeLeftB2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT2B);
	p_strifeLeftC2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT2C);
	p_strifeLeftD2 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT2D);

	p_strifeLeftA3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT3A);
	p_strifeLeftB3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT3B);
	p_strifeLeftC3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT3C);
	p_strifeLeftD3 = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_LEFT3D);

	p_strifeRight = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_RIGHT);
	p_strifeOboe = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_OBOE);
	p_strifeFlute = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_FLUTE);
	p_strifeBassoon = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_BASSOON);
	p_strifeViolins = p_preloadMusicFile(MM_COMMON_MUSICPATH_STRIFE_VIOLINS);

	p_setStrifeVariation();
}

static void p_updateThemeStrife()
{
	if(!PLEX_isSoundPlaying(0))
	{
		p_setStrifeVariation();

		++p_strifeSection;

		if(p_strifeSection >= 8) p_strifeSection = 0;
	}
}

static int64_t p_playSoundEffectBase(const MM_COMMON_SOUNDEFFECT effect, const bool loop, const double volume)
{
	const size_t bottom = PLEX_LIMIT_SOUNDCHANNELS - PLEX_LIMIT_SOUNDEFFECTS;
	const size_t bufferBottom = PLEX_LIMIT_PREBUFFERCOUNT - PLEX_LIMIT_SOUNDEFFECTS;

	int64_t buffer = -1;
	int64_t index = 0;

	bool overwrite = false;

	if(effect == MM_COMMON_SOUNDEFFECT_NONE) return -1;

	index = PLEX_LIMIT_SOUNDCHANNELS - 1;

	while((PLEX_isSoundPlaying(index) && !overwrite) || p_musicLoop[index])
	{
		--index;

		if(index <= bottom)
		{
			if(overwrite) return -1;

			index = PLEX_LIMIT_SOUNDCHANNELS - 1;
			overwrite = true;
		}
	}

	buffer = bufferBottom + (index - bottom);

	PLEX_clearSoundBuffer(buffer);

	switch(effect)
	{
		case MM_COMMON_SOUNDEFFECT_KNOCKING:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_KNOCKING, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SHOCK:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SHOCKCUE, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SURREALHONKHONK:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SURREALHONKHONK, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_PAMENGINEREV:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_PAMENGINEREV, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_PAMENGINESTRUGGLE:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_PAMENGINESTRUGGLE, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_PAMENGINERUN:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_PAMENGINERUN, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_CRASH:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_CRASH, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SURREALGLASSCRACK:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SURREALGLASSCRACK, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_ZOOMBY:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_ZOOMBY, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_TABLESCREECH:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_TABLESCREECH, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_CLUB:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_CLUB, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_GROAN:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_GROAN, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_QUICKGROAN:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_QUICKGROAN, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SHOT:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SHOT, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_EMPTYCHAMBER:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_EMPTYCHAMBER, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_RELOAD:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_RELOAD, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_GULP:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_GULP, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SMALLSHOT:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SMALLSHOT, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_RAPIDSHOT:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_RAPIDSHOT, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SHOTMISS:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SHOTMISS, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_COWBOYBIRTH:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_COWBOYBIRTH, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SHOTGUNSHOT:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SHOTGUNSHOT, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_SLASH:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_SLASH, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_RAYGUN:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_RAYGUN, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_EXPLOSION:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_EXPLOSION, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_CHAINSAWCUT:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_CHAINSAWCUT, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_ARROW:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_ARROW, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_EXPLOSIONLOOP:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_EXPLOSIONLOOP, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_DOORSLAM:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_DOORSLAM, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_CRUELTWIST:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_CRUELTWIST, buffer);
		break;

		case MM_COMMON_SOUNDEFFECT_ELECTRICSHOCK:
			PLEX_preloadSoundFileToSpecificBuffer(MM_COMMON_SOUNDPATH_ELECTRICSHOCK, buffer);
		break;

		default: break;
	};

	if(PLEX_isSoundPlaying(index)) PLEX_soundChannelOff(index);

	if(buffer != -1 && PLEX_assignSoundBuffer(buffer, index)) PLEX_soundChannelOn(loop, index);

	PLEX_setVolume(volume, index);

	p_soundEffect[index] = true;

	return index;
}

void MM_COMMON_punkThemeVolume(const double volume)
{
	p_punkVolume = volume;
}

void MM_COMMON_playTheme(const MM_COMMON_THEMEID themeID)
{
	if(themeID == p_themeID) return;

	p_clearTheme();

	switch(themeID)
	{
		case MM_COMMON_THEMEID_NONE: break;
		case MM_COMMON_THEMEID_MAIN: p_playThemeMain(); break;
		case MM_COMMON_THEMEID_EXTRAPLOCAN: p_playThemeExtraplocan(); break;
		case MM_COMMON_THEMEID_NEWSROOM: p_playThemeNewsroom(); break;
		case MM_COMMON_THEMEID_COMEDY: p_playThemeComedy(); break;
		case MM_COMMON_THEMEID_PANIC: p_playThemePanic(); break;
		case MM_COMMON_THEMEID_DARKCITY: p_playThemeDarkCity(); break;
		case MM_COMMON_THEMEID_PAMALEANA: p_playThemePamaleana(); break;
		case MM_COMMON_THEMEID_SUSPENSE: p_playThemeSuspense(); break;
		case MM_COMMON_THEMEID_DAYTODAY: p_playThemeDayToDay(); break;
		case MM_COMMON_THEMEID_DREAM: p_playDreamTheme(); break;
		case MM_COMMON_THEMEID_DESERTWINDS: p_playThemeDesertWinds(); break;
		case MM_COMMON_THEMEID_DESERTTOWN: p_playThemeDesertTown(); break;
		case MM_COMMON_THEMEID_AGGRESSION: p_playThemeAggression(); break;
		case MM_COMMON_THEMEID_WORKDAY: p_playThemeWorkday(); break;
		case MM_COMMON_THEMEID_FEAR: p_playThemeFear(); break;
		case MM_COMMON_THEMEID_PUNK: p_playThemePunk(); break;
		case MM_COMMON_THEMEID_METAL: p_playThemeMetal(); break;
		case MM_COMMON_THEMEID_STRIFE: p_playThemeStrife(); break;
	}

	p_themeID = themeID;
}

int64_t MM_COMMON_playSoundEffect(const MM_COMMON_SOUNDEFFECT effect)
{
	return p_playSoundEffectBase(effect, false, 1);
}

int64_t MM_COMMON_playSoundEffectVolume(const double volume, const MM_COMMON_SOUNDEFFECT effect)
{
	return p_playSoundEffectBase(effect, false, volume);
}

int64_t MM_COMMON_loopSoundEffect(const MM_COMMON_SOUNDEFFECT effect)
{
	return p_playSoundEffectBase(effect, true, 1);
}

void MM_COMMON_stopSoundEffect(const int64_t index)
{
	if(index < 0 || index >= PLEX_LIMIT_SOUNDCHANNELS || !p_soundEffect[index]) return;

	p_soundEffect[index] = false;
	PLEX_soundChannelOff(index);
}

void MM_COMMON_setSoundEffectVolume(const double volume, const int64_t index)
{
	if(index < 0 || index > PLEX_LIMIT_SOUNDCHANNELS - 1 || !p_soundEffect[index]) return;

	PLEX_setVolume(volume, index);
}

void MM_COMMON_startTheme()
{

}

void MM_COMMON_updateTheme()
{
	if(!PLEX_getUniversalThemeStopSignal())
	{
		const MM_COMMON_THEMEID themeID = (MM_COMMON_THEMEID)PLEX_getUniversalThemeCueID();

		if(themeID != MM_COMMON_THEMEID_NONE) MM_COMMON_playTheme(themeID);
	}else MM_COMMON_playTheme(MM_COMMON_THEMEID_NONE);

	MM_COMMON_playSoundEffect((MM_COMMON_SOUNDEFFECT)PLEX_getUniversalSoundEffect()); // ignores sound effect none, keep AFTER the universal theme check

	switch(p_themeID)
	{
		case MM_COMMON_THEMEID_MAIN: p_updateMainThemeVoice(); break;
		case MM_COMMON_THEMEID_EXTRAPLOCAN: p_updateExtrapTheme(); break;
		case MM_COMMON_THEMEID_PANIC: p_updateThemePanic(); break;
		case MM_COMMON_THEMEID_COMEDY: p_updateComedy(); break;
		case MM_COMMON_THEMEID_DARKCITY: p_updateDarkCity(); break;
		case MM_COMMON_THEMEID_PAMALEANA: p_updatePamaleanaTheme(); break;
		case MM_COMMON_THEMEID_SUSPENSE: p_updateSuspenseTheme(); break;
		case MM_COMMON_THEMEID_DAYTODAY: p_updateThemeDayToDay(); break;
		case MM_COMMON_THEMEID_DREAM: p_updateDreamTheme(); break;
		case MM_COMMON_THEMEID_DESERTWINDS: p_updateThemeDesertWinds(PLEX_getGameTime()); break;
		case MM_COMMON_THEMEID_DESERTTOWN: p_updateDesertTown(); break;
		case MM_COMMON_THEMEID_AGGRESSION: p_updateThemeAggression(); break;
		case MM_COMMON_THEMEID_WORKDAY: p_updateThemeWorkday(); break;
		case MM_COMMON_THEMEID_FEAR: p_updateThemeFear(); break;
		case MM_COMMON_THEMEID_PUNK: p_updateThemePunk(); break;
		case MM_COMMON_THEMEID_METAL: p_updateThemeMetal(); break;
		case MM_COMMON_THEMEID_STRIFE: p_updateThemeStrife(); break;

		default: break;
	};
}

void MM_COMMON_endTheme()
{

}

MM_COMMON_THEMEID MM_COMMON_getTheme(){ return p_themeID; }
